<!DOCTYPE html>
<html lang="中文">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Java SDK | TOP开发者文档</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/myDoc/favicon.ico">
    <meta name="description" content="TOP开发者文档">
    <meta property="og:title" content="Java SDK">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/zh/Interface/SDKs/03-java-sdk/">
    <meta property="og:image" content="undefined">
    <meta name="twitter:title" content="Java SDK">
    <meta name="twitter:url" content="/zh/Interface/SDKs/03-java-sdk/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="undefined">
    <meta name="image" content="undefined">
    
    <link rel="preload" href="/myDoc/assets/css/0.styles.ef34ec10.css" as="style"><link rel="preload" href="/myDoc/assets/js/app.51d5769b.js" as="script"><link rel="preload" href="/myDoc/assets/js/4.d7203594.js" as="script"><link rel="preload" href="/myDoc/assets/js/1.65ffe72b.js" as="script"><link rel="preload" href="/myDoc/assets/js/3.83317c84.js" as="script"><link rel="preload" href="/myDoc/assets/js/123.a3cac796.js" as="script"><link rel="prefetch" href="/myDoc/assets/js/10.532cab70.js"><link rel="prefetch" href="/myDoc/assets/js/100.13414e6e.js"><link rel="prefetch" href="/myDoc/assets/js/101.ba11cc24.js"><link rel="prefetch" href="/myDoc/assets/js/102.e7e40ddc.js"><link rel="prefetch" href="/myDoc/assets/js/103.0449755a.js"><link rel="prefetch" href="/myDoc/assets/js/104.f5917ce1.js"><link rel="prefetch" href="/myDoc/assets/js/105.540d20ed.js"><link rel="prefetch" href="/myDoc/assets/js/106.35fe500a.js"><link rel="prefetch" href="/myDoc/assets/js/107.a432a98b.js"><link rel="prefetch" href="/myDoc/assets/js/108.52283ff9.js"><link rel="prefetch" href="/myDoc/assets/js/109.f30f2c75.js"><link rel="prefetch" href="/myDoc/assets/js/11.7ac5bbbb.js"><link rel="prefetch" href="/myDoc/assets/js/110.59f04db1.js"><link rel="prefetch" href="/myDoc/assets/js/111.09a5682b.js"><link rel="prefetch" href="/myDoc/assets/js/112.10191bb3.js"><link rel="prefetch" href="/myDoc/assets/js/113.0ecb5b96.js"><link rel="prefetch" href="/myDoc/assets/js/114.61e8e56d.js"><link rel="prefetch" href="/myDoc/assets/js/115.4cfd4b85.js"><link rel="prefetch" href="/myDoc/assets/js/116.c55d7925.js"><link rel="prefetch" href="/myDoc/assets/js/117.0fafd101.js"><link rel="prefetch" href="/myDoc/assets/js/118.42412be4.js"><link rel="prefetch" href="/myDoc/assets/js/119.caf14697.js"><link rel="prefetch" href="/myDoc/assets/js/12.6633da07.js"><link rel="prefetch" href="/myDoc/assets/js/120.6a8ed66b.js"><link rel="prefetch" href="/myDoc/assets/js/121.acb65856.js"><link rel="prefetch" href="/myDoc/assets/js/122.88922e4b.js"><link rel="prefetch" href="/myDoc/assets/js/124.971b97d4.js"><link rel="prefetch" href="/myDoc/assets/js/125.7cb21697.js"><link rel="prefetch" href="/myDoc/assets/js/126.a57bac8c.js"><link rel="prefetch" href="/myDoc/assets/js/127.3d93849c.js"><link rel="prefetch" href="/myDoc/assets/js/128.3908047a.js"><link rel="prefetch" href="/myDoc/assets/js/129.73a82782.js"><link rel="prefetch" href="/myDoc/assets/js/13.139950d1.js"><link rel="prefetch" href="/myDoc/assets/js/130.cad53b6a.js"><link rel="prefetch" href="/myDoc/assets/js/131.da6558f4.js"><link rel="prefetch" href="/myDoc/assets/js/132.0c358a5c.js"><link rel="prefetch" href="/myDoc/assets/js/133.e2d789ac.js"><link rel="prefetch" href="/myDoc/assets/js/134.abb3b0db.js"><link rel="prefetch" href="/myDoc/assets/js/135.fab14898.js"><link rel="prefetch" href="/myDoc/assets/js/136.8dff3d0a.js"><link rel="prefetch" href="/myDoc/assets/js/137.491135ae.js"><link rel="prefetch" href="/myDoc/assets/js/138.c764955d.js"><link rel="prefetch" href="/myDoc/assets/js/139.3429903a.js"><link rel="prefetch" href="/myDoc/assets/js/14.1e127002.js"><link rel="prefetch" href="/myDoc/assets/js/140.2b09c2b0.js"><link rel="prefetch" href="/myDoc/assets/js/141.07509caf.js"><link rel="prefetch" href="/myDoc/assets/js/142.4272437c.js"><link rel="prefetch" href="/myDoc/assets/js/143.d421dc59.js"><link rel="prefetch" href="/myDoc/assets/js/144.68d68e88.js"><link rel="prefetch" href="/myDoc/assets/js/145.67a85046.js"><link rel="prefetch" href="/myDoc/assets/js/146.38ec57fc.js"><link rel="prefetch" href="/myDoc/assets/js/147.7e4e3d27.js"><link rel="prefetch" href="/myDoc/assets/js/148.c08e7e78.js"><link rel="prefetch" href="/myDoc/assets/js/149.e6e91cb6.js"><link rel="prefetch" href="/myDoc/assets/js/15.652d953e.js"><link rel="prefetch" href="/myDoc/assets/js/16.cf3a2ee9.js"><link rel="prefetch" href="/myDoc/assets/js/17.f6d7d812.js"><link rel="prefetch" href="/myDoc/assets/js/18.de6cc6b8.js"><link rel="prefetch" href="/myDoc/assets/js/19.5c9134bb.js"><link rel="prefetch" href="/myDoc/assets/js/20.4fea7b08.js"><link rel="prefetch" href="/myDoc/assets/js/21.563ef8d2.js"><link rel="prefetch" href="/myDoc/assets/js/22.9c3913a0.js"><link rel="prefetch" href="/myDoc/assets/js/23.2692d243.js"><link rel="prefetch" href="/myDoc/assets/js/24.64f53d90.js"><link rel="prefetch" href="/myDoc/assets/js/25.dd3cbc30.js"><link rel="prefetch" href="/myDoc/assets/js/26.4d01de85.js"><link rel="prefetch" href="/myDoc/assets/js/27.86c54236.js"><link rel="prefetch" href="/myDoc/assets/js/28.1bd016c4.js"><link rel="prefetch" href="/myDoc/assets/js/29.83b58b62.js"><link rel="prefetch" href="/myDoc/assets/js/30.398311d9.js"><link rel="prefetch" href="/myDoc/assets/js/31.436e7b5e.js"><link rel="prefetch" href="/myDoc/assets/js/32.8f702d12.js"><link rel="prefetch" href="/myDoc/assets/js/33.955ab75e.js"><link rel="prefetch" href="/myDoc/assets/js/34.69bdd35a.js"><link rel="prefetch" href="/myDoc/assets/js/35.e531a779.js"><link rel="prefetch" href="/myDoc/assets/js/36.f1dc9006.js"><link rel="prefetch" href="/myDoc/assets/js/37.a605c38b.js"><link rel="prefetch" href="/myDoc/assets/js/38.441a99a9.js"><link rel="prefetch" href="/myDoc/assets/js/39.2ca13b74.js"><link rel="prefetch" href="/myDoc/assets/js/40.5a7ee61b.js"><link rel="prefetch" href="/myDoc/assets/js/41.173d0783.js"><link rel="prefetch" href="/myDoc/assets/js/42.4d681a39.js"><link rel="prefetch" href="/myDoc/assets/js/43.7bb2d0bf.js"><link rel="prefetch" href="/myDoc/assets/js/44.e56adfef.js"><link rel="prefetch" href="/myDoc/assets/js/45.567ebf29.js"><link rel="prefetch" href="/myDoc/assets/js/46.8523cd85.js"><link rel="prefetch" href="/myDoc/assets/js/47.2a89d88b.js"><link rel="prefetch" href="/myDoc/assets/js/48.43cd6761.js"><link rel="prefetch" href="/myDoc/assets/js/49.7d65064e.js"><link rel="prefetch" href="/myDoc/assets/js/5.0949e6cf.js"><link rel="prefetch" href="/myDoc/assets/js/50.deeb26a4.js"><link rel="prefetch" href="/myDoc/assets/js/51.913587a5.js"><link rel="prefetch" href="/myDoc/assets/js/52.4efba81e.js"><link rel="prefetch" href="/myDoc/assets/js/53.cffd58bb.js"><link rel="prefetch" href="/myDoc/assets/js/54.cee09536.js"><link rel="prefetch" href="/myDoc/assets/js/55.e82ba661.js"><link rel="prefetch" href="/myDoc/assets/js/56.e8ab0db1.js"><link rel="prefetch" href="/myDoc/assets/js/57.a5d2ffc2.js"><link rel="prefetch" href="/myDoc/assets/js/58.f9ae3bef.js"><link rel="prefetch" href="/myDoc/assets/js/59.9ac0a32a.js"><link rel="prefetch" href="/myDoc/assets/js/6.9f36f2b1.js"><link rel="prefetch" href="/myDoc/assets/js/60.65967536.js"><link rel="prefetch" href="/myDoc/assets/js/61.4dbedc1f.js"><link rel="prefetch" href="/myDoc/assets/js/62.81f23c54.js"><link rel="prefetch" href="/myDoc/assets/js/63.dcde6818.js"><link rel="prefetch" href="/myDoc/assets/js/64.ccd6c3f7.js"><link rel="prefetch" href="/myDoc/assets/js/65.ea3ba0dd.js"><link rel="prefetch" href="/myDoc/assets/js/66.0de6d795.js"><link rel="prefetch" href="/myDoc/assets/js/67.90dae9a7.js"><link rel="prefetch" href="/myDoc/assets/js/68.afc4c576.js"><link rel="prefetch" href="/myDoc/assets/js/69.1b93824e.js"><link rel="prefetch" href="/myDoc/assets/js/7.78fc994d.js"><link rel="prefetch" href="/myDoc/assets/js/70.da9cee4b.js"><link rel="prefetch" href="/myDoc/assets/js/71.61199371.js"><link rel="prefetch" href="/myDoc/assets/js/72.61ce7f78.js"><link rel="prefetch" href="/myDoc/assets/js/73.81e55f0f.js"><link rel="prefetch" href="/myDoc/assets/js/74.cde500e8.js"><link rel="prefetch" href="/myDoc/assets/js/75.23f1a120.js"><link rel="prefetch" href="/myDoc/assets/js/76.a122d0af.js"><link rel="prefetch" href="/myDoc/assets/js/77.1b397421.js"><link rel="prefetch" href="/myDoc/assets/js/78.813e6a9c.js"><link rel="prefetch" href="/myDoc/assets/js/79.15d9ef4d.js"><link rel="prefetch" href="/myDoc/assets/js/8.a7015489.js"><link rel="prefetch" href="/myDoc/assets/js/80.5343e5a6.js"><link rel="prefetch" href="/myDoc/assets/js/81.39a68a08.js"><link rel="prefetch" href="/myDoc/assets/js/82.dd6510a5.js"><link rel="prefetch" href="/myDoc/assets/js/83.95cc8f59.js"><link rel="prefetch" href="/myDoc/assets/js/84.c7883c6e.js"><link rel="prefetch" href="/myDoc/assets/js/85.b9d17590.js"><link rel="prefetch" href="/myDoc/assets/js/86.a3204773.js"><link rel="prefetch" href="/myDoc/assets/js/87.a3374ddf.js"><link rel="prefetch" href="/myDoc/assets/js/88.721f8ae3.js"><link rel="prefetch" href="/myDoc/assets/js/89.c3898e24.js"><link rel="prefetch" href="/myDoc/assets/js/9.78444907.js"><link rel="prefetch" href="/myDoc/assets/js/90.f801c27f.js"><link rel="prefetch" href="/myDoc/assets/js/91.a6cf2371.js"><link rel="prefetch" href="/myDoc/assets/js/92.29d185c6.js"><link rel="prefetch" href="/myDoc/assets/js/93.caedb5fd.js"><link rel="prefetch" href="/myDoc/assets/js/94.fc71ad59.js"><link rel="prefetch" href="/myDoc/assets/js/95.3465c834.js"><link rel="prefetch" href="/myDoc/assets/js/96.5f29e3bf.js"><link rel="prefetch" href="/myDoc/assets/js/97.7eec1a88.js"><link rel="prefetch" href="/myDoc/assets/js/98.1f130422.js"><link rel="prefetch" href="/myDoc/assets/js/99.a55aa6a5.js">
    <link rel="stylesheet" href="/myDoc/assets/css/0.styles.ef34ec10.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myDoc/zh/" class="home-link router-link-active"><img src="/myDoc/images/logo.png" alt="TOP开发者文档" class="logo"> <span class="site-name can-hide">TOP开发者文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><span class="title">指南</span> <span class="arrow down"></span></button> <button type="button" aria-label="指南" class="mobile-dropdown-title"><span class="title">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://kyp82nlf.github.io/myDoc/static/docs-cn.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/myDoc/zh/" class="nav-link">
  指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myDoc/en/Interface/SDKs/03-java-sdk/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/myDoc/zh/Interface/SDKs/03-java-sdk/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  中文
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="指南" class="dropdown-title"><span class="title">指南</span> <span class="arrow down"></span></button> <button type="button" aria-label="指南" class="mobile-dropdown-title"><span class="title">指南</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://kyp82nlf.github.io/myDoc/static/docs-cn.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Home
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/myDoc/zh/" class="nav-link">
  指南
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myDoc/en/Interface/SDKs/03-java-sdk/" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/myDoc/zh/Interface/SDKs/03-java-sdk/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  中文
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>认识 TOP Network</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TOP Network 节点</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>智能合约</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>链上治理</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TOPIO 使用指南</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>RPC API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>钱包对接指南</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SDKs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/myDoc/zh/Interface/SDKs/00-overview/" class="sidebar-link">概述</a></li><li><a href="/myDoc/zh/Interface/SDKs/01-javascript-sdk/" class="sidebar-link">JavaScript SDK</a></li><li><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/" aria-current="page" class="active sidebar-link">Java SDK</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#快速开始" class="sidebar-link">快速开始</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#网络" class="sidebar-link">网络</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#接口总览" class="sidebar-link">接口总览</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#交易初始化设置" class="sidebar-link">交易初始化设置</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#链基础操作" class="sidebar-link">链基础操作</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#账户管理" class="sidebar-link">账户管理</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#用户智能合约部署和调用" class="sidebar-link">用户智能合约部署和调用</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#节点操作" class="sidebar-link">节点操作</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#staking" class="sidebar-link">staking</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#提案管理" class="sidebar-link">提案管理</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#工具方法" class="sidebar-link">工具方法</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#交易返回体数据结构" class="sidebar-link">交易返回体数据结构</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#交易返回体数据结构说明" class="sidebar-link">交易返回体数据结构说明</a></li><li class="sidebar-sub-header"><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/#代码示例" class="sidebar-link">代码示例</a></li></ul></li><li><a href="/myDoc/zh/Interface/SDKs/02-c++-sdk/" class="sidebar-link">C++ SDK</a></li></ul></section></li></ul> </aside> <main class="page" data-v-64d2c529> <nav class="breadcrumbs fixed" data-v-c65b7bde data-v-64d2c529><div class="nav-wrapper" data-v-c65b7bde><a href="/myDoc/zh/" class="breadcrumb router-link-active" data-v-c65b7bde></a><a href="/myDoc/zh/Interface/SDKs/03-java-sdk/" aria-current="page" class="breadcrumb router-link-exact-active router-link-active" data-v-c65b7bde>Java SDK</a></div></nav> <div class="theme-default-content content__default" data-v-64d2c529><h1 id="java-sdk"><a href="#java-sdk" class="header-anchor">#</a> Java SDK</h1> <h2 id="快速开始"><a href="#快速开始" class="header-anchor">#</a> 快速开始</h2> <p>实例化&quot;topj&quot;。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="网络"><a href="#网络" class="header-anchor">#</a> 网络</h2> <p>TOP Network Java SDK提供了RPC、Restful以及WebSocket接口。</p> <ul><li><p>RPC接口</p> <div class="language- extra-class"><pre class="language-text"><code>HttpService httpService = new HttpService(&quot;http://192.168.50.193:19081&quot;);
</code></pre></div></li> <li><p>Restful接口</p> <div class="language- extra-class"><pre class="language-text"><code>HttpService httpService = new HttpService(&quot;http://192.168.50.193:19081&quot;);
</code></pre></div></li> <li><p>WebSocket接口</p> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div></li></ul> <h2 id="接口总览"><a href="#接口总览" class="header-anchor">#</a> 接口总览</h2> <table><thead><tr><th style="text-align:left;">接口</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="#%E4%BA%A4%E6%98%93%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE">topj.setTransactionReceiptProcessor()</a></td> <td style="text-align:left;">交易初始化设置。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%A0%B9%E6%8D%AE%E7%A7%81%E9%92%A5%E7%94%9F%E6%88%90account%E8%B4%A6%E6%88%B7%E5%AF%B9%E8%B1%A1">topj.genAccount()</a></td> <td style="text-align:left;">根据私钥生成account账户对象。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8E%B7%E5%8F%96%E9%93%BE%E4%B8%8A%E8%AE%BF%E9%97%AE%E8%BA%AB%E4%BB%BD%E4%BB%A4%E7%89%8C">topj.passport()</a></td> <td style="text-align:left;">获取链上访问身份令牌。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8E%B7%E5%8F%96%E4%B8%BB%E9%93%BE%E4%BF%A1%E6%81%AF">topj.getChainInfo()</a></td> <td style="text-align:left;">获取主链信息。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%9F%A5%E8%AF%A2%E9%93%BE%E4%B8%8A%E8%B4%A6%E6%88%B7%E4%BF%A1%E6%81%AF">topj.getAccount()</a></td> <td style="text-align:left;">获取链上账户信息。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%BD%AC%E8%B4%A6">topj.transfer()</a></td> <td style="text-align:left;">将TOP转到另外一个账户地址。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%9F%A5%E8%AF%A2%E8%B4%A6%E6%88%B7%E4%BA%A4%E6%98%93%E8%AF%A6%E6%83%85">topj.getTransaction()</a></td> <td style="text-align:left;">获取账户交易详情。</td></tr> <tr><td style="text-align:left;"><a href="%E9%94%81%E5%AE%9ATOP_token%E5%85%91%E6%8D%A2gas">topj.stakeGas()</a></td> <td style="text-align:left;">锁定TOP token兑换gas。</td></tr> <tr><td style="text-align:left;"><a href="%E8%A7%A3%E9%94%81%E5%85%91%E6%8D%A2gas%E7%9A%84TOP_token">topj.unStakeGas()</a></td> <td style="text-align:left;">解锁兑换gas的TOP token。</td></tr> <tr><td style="text-align:left;"><a href="#%E9%83%A8%E7%BD%B2%E7%94%A8%E6%88%B7%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6">topj.deployContract()</a></td> <td style="text-align:left;">部署用户智能合约。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%B0%83%E7%94%A8%E7%94%A8%E6%88%B7%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6">topj.callContract()</a></td> <td style="text-align:left;">调用用户智能合约。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8E%B7%E5%8F%96%E5%B1%9E%E6%80%A7">topj.getProperty()</a></td> <td style="text-align:left;">获取属性。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%B3%A8%E5%86%8C%E8%8A%82%E7%82%B9">topj.registerNode()</a></td> <td style="text-align:left;">注册节点。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%9F%A5%E8%AF%A2%E8%8A%82%E7%82%B9%E4%BF%A1%E6%81%AF">topj.queryNodeInfo()</a></td> <td style="text-align:left;">查询节点信息。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%9B%B4%E6%96%B0%E8%8A%82%E7%82%B9%E7%B1%BB%E5%9E%8B">topj.updateNodeType()</a></td> <td style="text-align:left;">更新节点类型。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%AE%BE%E7%BD%AE%E8%8A%82%E7%82%B9%E6%98%B5%E7%A7%B0">topj.setNodeName()</a></td> <td style="text-align:left;">设置节点昵称。</td></tr> <tr><td style="text-align:left;"><a href="#%E5%A2%9E%E5%8A%A0%E8%8A%82%E7%82%B9%E4%BF%9D%E8%AF%81%E9%87%91">topj.stakeDeposit()</a></td> <td style="text-align:left;">增加节点保证金。</td></tr> <tr><td style="text-align:left;"><a href="#%E5%87%8F%E5%B0%91%E8%8A%82%E7%82%B9%E4%BF%9D%E8%AF%81%E9%87%91">topj.unStakeDeposit()</a></td> <td style="text-align:left;">减少节点保证金。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%AE%BE%E7%BD%AE%E5%88%86%E7%BA%A2%E6%AF%94%E4%BE%8B">topj.setDividendRate()</a></td> <td style="text-align:left;">高级节点设置分红比例。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%9F%A5%E8%AF%A2%E8%B4%A6%E6%88%B7%E6%8A%95%E7%A5%A8%E5%88%86%E5%B8%83%E4%BF%A1%E6%81%AF">topj.listVoteUsed()</a></td> <td style="text-align:left;">获取账户投票分布。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%B3%A8%E9%94%80%E8%8A%82%E7%82%B9">topj.unRegisterNode()</a></td> <td style="text-align:left;">注销节点。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%B5%8E%E5%9B%9E%E8%8A%82%E7%82%B9%E4%BF%9D%E8%AF%81%E9%87%91">topj.redeemNodeDeposit()</a></td> <td style="text-align:left;">节点注销后赎回节点保证金。</td></tr> <tr><td style="text-align:left;"><a href="#%E9%94%81%E5%AE%9ATOP_token%E5%85%91%E6%8D%A2%E9%80%89%E7%A5%A8">topj.stakeVote()</a></td> <td style="text-align:left;">锁定TOP token兑换选票。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%A7%A3%E9%94%81%E5%85%91%E6%8D%A2%E9%80%89%E7%A5%A8%E7%9A%84TOP_token">topj.unStakeVote()</a></td> <td style="text-align:left;">解锁兑换选票的TOP token。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8A%82%E7%82%B9%E6%8A%95%E7%A5%A8">topj.voteNode()</a></td> <td style="text-align:left;">投票。</td></tr> <tr><td style="text-align:left;"><a href="#%E5%8F%96%E6%B6%88%E6%8A%95%E7%A5%A8">topj.unVoteNode()</a></td> <td style="text-align:left;">取消投票。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8E%B7%E5%8F%96%E6%8A%95%E7%A5%A8%E8%80%85%E5%88%86%E7%BA%A2%E4%BF%A1%E6%81%AF">topj.queryVoterDividend()</a></td> <td style="text-align:left;">获取投票者分红信息。</td></tr> <tr><td style="text-align:left;"><a href="#%E9%A2%86%E5%8F%96%E6%8A%95%E7%A5%A8%E8%80%85%E5%88%86%E7%BA%A2">topj.claimVoterDividend()</a></td> <td style="text-align:left;">领取投票者分红。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8E%B7%E5%8F%96%E8%8A%82%E7%82%B9%E5%A5%96%E5%8A%B1%E4%BF%A1%E6%81%AF">topj.queryNodeReward()</a></td> <td style="text-align:left;">获取节点奖励信息。</td></tr> <tr><td style="text-align:left;"><a href="#%E9%A2%86%E5%8F%96%E8%8A%82%E7%82%B9%E5%A5%96%E5%8A%B1">topj.claimNodeReward()</a></td> <td style="text-align:left;">领取节点奖励。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%8F%90%E4%BA%A4%E6%8F%90%E6%A1%88">topj.submitProposal()</a></td> <td style="text-align:left;">提交提案。</td></tr> <tr><td style="text-align:left;"><a href="#%E6%92%A4%E5%9B%9E%E6%8F%90%E6%A1%88">topj.withdrawProposal()</a></td> <td style="text-align:left;">撤回提案。</td></tr> <tr><td style="text-align:left;"><a href="#%E8%8E%B7%E5%8F%96%E6%8F%90%E6%A1%88%E8%AF%A6%E6%83%85">topj.queryProposal()</a></td> <td style="text-align:left;">获取提案详情。</td></tr> <tr><td style="text-align:left;"><a href="#TCC%E8%A1%A8%E5%86%B3%E6%8F%90%E6%A1%88">topj.tccVote()</a></td> <td style="text-align:left;">TCC表决提案</td></tr></tbody></table> <table><thead><tr><th style="text-align:left;">工具方法</th> <th style="text-align:left;">描述</th></tr></thead> <tbody><tr><td style="text-align:left;"><a href="#%E8%A7%A3%E6%9E%90%E5%87%BA%E8%BD%AC%E8%B4%A6%E4%BA%A4%E6%98%93%E4%BD%93%E4%B8%AD%E7%9A%84amount%E5%92%8Cnote%E6%95%B0%E6%8D%AE">transferActionParam.decode</a></td> <td style="text-align:left;">解析出转账交易体中的amount和note数据。</td></tr> <tr><td style="text-align:left;"><a href="#%E4%BA%A4%E6%98%93%E5%88%9D%E5%A7%8B%E5%8C%96%E8%AE%BE%E7%BD%AE">topj.setTransactionReceiptProcessor</a></td> <td style="text-align:left;">交易初始化设置。</td></tr> <tr><td style="text-align:left;"><a href="#%E5%88%A4%E6%96%AD%E4%BA%A4%E6%98%93%E6%98%AF%E5%90%A6%E6%88%90%E5%8A%9F">xTransaction.isSuccess</a></td> <td style="text-align:left;">判断交易是否成功。</td></tr> <tr><td style="text-align:left;"><a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a></td> <td style="text-align:left;">所有交易请求都返回该对象。</td></tr></tbody></table> <h2 id="交易初始化设置"><a href="#交易初始化设置" class="header-anchor">#</a> 交易初始化设置</h2> <p>SDK发送交易请求后，请求无法直接返回交易执行结果，所以需要循环去链上查询交易是否成功，默认每3秒查询一次，循环100次，共5分钟。如果此时交易仍查询不到，则程序返回交易hash。</p> <p>“setTransactionReceiptProcessor”方法可以修改循环查询间隔以及循环次数，比如示例代码中修改为每5秒查询一次，循环3次，共15秒。</p> <p><strong>请求方式</strong></p> <blockquote><p>topj.setTransactionReceiptProcessor</p></blockquote> <p><strong>请求参数</strong></p> <p>&quot;TransactionReceiptProcessor&quot;为抽象类，有&quot;PollingTransactionReceiptProcessor&quot;和&quot;NoOpProcessor&quot;两个实现类，可实例化这两个类并传入。</p> <p>&quot;PollingTransactionReceiptProcessor&quot;表示会轮询&quot;attempts&quot;次，每次间隔&quot;sleepDuration&quot;毫秒。</p> <p>实例化所需参数如下表所示。</p> <table><thead><tr><th>参数名称</th> <th>是否必选</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>sleepDuration</td> <td>是</td> <td>-</td> <td>Long</td> <td>等待间隔，单位“毫秒”。</td></tr> <tr><td>attempts</td> <td>是</td> <td>-</td> <td>Int</td> <td>循环次数。</td></tr></tbody></table> <p>也可设置不循环，直接返回交易hash，传入&quot;NoOpProcessor&quot;对象接口，代码为：</p> <div class="language- extra-class"><pre class="language-text"><code>topj.setTransactionReceiptProcessor(new NoOpProcessor())
</code></pre></div><p>&quot;NoOpProcessor&quot;表示直接返回hash，无须参数。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="链基础操作"><a href="#链基础操作" class="header-anchor">#</a> 链基础操作</h2> <h3 id="根据私钥生成account账户对象"><a href="#根据私钥生成account账户对象" class="header-anchor">#</a> 根据私钥生成account账户对象</h3> <p>本地根据私钥生成账户对象，对象中包含私钥、公钥、地址等参数。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.genAccount</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th>参数名称</th> <th>是否必选</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>privateKey</td> <td>是</td> <td>-</td> <td>String</td> <td>私钥。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>address</td> <td>String</td> <td>账户地址。</td></tr> <tr><td>addressType</td> <td>String</td> <td>账户地址类型：0--普通用户账户；1--子账户；2--系统合约账户；3--用户合约账户。</td></tr> <tr><td>balance</td> <td>Uint64</td> <td>账户余额。</td></tr> <tr><td>lastUnitHeight</td> <td>Uint64</td> <td>最新共识成功的交易的unit block高度。</td></tr> <tr><td>netType</td> <td>Integer</td> <td>网络类型，&quot;0&quot;--主网、&quot;1&quot;--测试网。</td></tr> <tr><td>nonce</td> <td>Uint64</td> <td>该账户最新共识成功的交易序号，唯一。</td></tr> <tr><td>privateKey</td> <td>String</td> <td>私钥用于解密和交易签名。<br>请不要与其他人分享您的私钥，以免造成资产损失！</td></tr> <tr><td>privateKeyBytes</td> <td>String</td> <td>私钥的Byte格式。</td></tr> <tr><td>publicKey</td> <td>String</td> <td>公钥，和私钥总是成对出现。<br>用于加密及验签。</td></tr> <tr><td>sequenceId</td> <td>String</td> <td>客户端会话次数，递增。</td></tr> <tr><td>identityToken</td> <td>String</td> <td>与链交互前首先需要获取链访问身份令牌(identity token)，身份令牌因账户不同而不同。当前未对该字段进行校验。</td></tr></tbody></table> <p>本地生成account主要用于生成公私钥和地址，其他参数，除了“token&quot;，均为初始值，需调用<code>topjs.getAccount</code>方法获取链上真实值。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>test</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;addressType&quot;</span><span class="token operator">:</span><span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;balance&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;lastUnitHeight&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;netType&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;nonce&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;privateKey&quot;</span><span class="token operator">:</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;privateKeyBytes&quot;</span><span class="token operator">:</span><span class="token string">&quot;7IUZxyNkmrIXCAfTmp0BvhphlyZs/jm0zGbAQz34UyE=&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;publicKey&quot;</span><span class="token operator">:</span><span class="token string">&quot;04ba6f20d132c94044fb0dd36035c3a9fc11ce30d6f3252e16083add3c78a76fe692d980754d77ba06594e70dfa51dbfe87832e5b38c91a03fdeae80ed0b414f65&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sequenceId&quot;</span><span class="token operator">:</span><span class="token string">&quot;1600657385123&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;identityToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取链上访问身份令牌"><a href="#获取链上访问身份令牌" class="header-anchor">#</a> 获取链上访问身份令牌</h3> <p>根据账户获取identity token（身份令牌），每个账户token不同。在后续所有的请求中，都需要token参数。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.passport</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th style="text-align:center;">是否必选</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>返回值中包含token字段，已直接放入account对象中，供后续调用时使用。</p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>secret_key</td> <td>String</td> <td>密钥key。</td></tr> <tr><td>signature_method</td> <td>String</td> <td>签名方法。</td></tr> <tr><td>signature_ver_code</td> <td>String</td> <td>签名方法版本号。</td></tr> <tr><td>identity_token</td> <td>String</td> <td>身份令牌，用于和主链节点交互，后续所有请求都需要该参数。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">PassportResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PassportResponse</span><span class="token punctuation">&gt;</span></span> token <span class="token operator">=</span>topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;identity_token&quot;</span><span class="token operator">:</span><span class="token string">&quot;c139fb51-d541-41f5-9d9d-4e6c083766f1&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;secret_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;fc06ccea-c34d-40b5-8b93-f985c6f3ecee&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;signature_method&quot;</span><span class="token operator">:</span><span class="token string">&quot;hmac_sha2&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;signature_ver_code&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1600657932853&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取主链信息"><a href="#获取主链信息" class="header-anchor">#</a> 获取主链信息</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.getChainInfo</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th style="text-align:center;">是否必选</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>first_timerblock_hash</td> <td>String</td> <td>第一个时钟块hash。</td></tr> <tr><td>first_timerblock_stamp</td> <td>Uint64</td> <td>第一个时钟块生成时间。</td></tr> <tr><td>init_total_locked_token</td> <td>Uint64</td> <td>系统初始化总TOP token锁定金额，系统初始化gas兑换率=系统总gas/总锁定金额，避免系统初始化gas兑换率为0。</td></tr> <tr><td>token_price</td> <td>Uint64</td> <td>锁定TOP token兑换gas的兑换率，单位tgas/top。</td></tr> <tr><td>total_gas_shard</td> <td>Uint32</td> <td>单片24小时总gas量。</td></tr> <tr><td>validator_group_count</td> <td>Uint32</td> <td>validator group 数量，当前默认为4。</td></tr> <tr><td>version</td> <td>String</td> <td>主链版本。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ChainInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ChainInfoResponse</span><span class="token punctuation">&gt;</span></span> chainInfo <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getChainInfo</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>chainInfo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;first_timerblock_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;6cf8958ac646a2b41bcdbfbdcfd8e0a9568aaf980073e96d488d82730cf7c698&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;first_timerblock_stamp&quot;</span> <span class="token operator">:</span> <span class="token number">946713600</span><span class="token punctuation">,</span>
      <span class="token string">&quot;init_total_locked_token&quot;</span> <span class="token operator">:</span> <span class="token number">10000000000000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;token_price&quot;</span> <span class="token operator">:</span> <span class="token number">432000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;total_gas_shard&quot;</span> <span class="token operator">:</span> <span class="token number">2160000000000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;validator_group_count&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token string">&quot;version&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0.0.0.1&quot;</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;10&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取候选池所有节点"><a href="#获取候选池所有节点" class="header-anchor">#</a> 获取候选池所有节点</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.getAllStandBys</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th style="text-align:center;">是否必选</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>node_sign_key</td> <td>String</td> <td>节点注册时使用的公钥。账户公钥或者无资产的公私钥对中的公钥。</td></tr> <tr><td>node_account_address</td> <td>String</td> <td>节点账户地址。</td></tr> <tr><td>program_version</td> <td>String</td> <td>主链版本号。</td></tr> <tr><td>stake</td> <td>Unit64</td> <td>节点权益。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">StandBysResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StandBysResponse</span><span class="token punctuation">&gt;</span></span> sb <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getAllStandBys</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;arc&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;auditor&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;edge&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;root_beacon&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;sub_beacon&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;validator&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1600658014340&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取候选池单个节点信息"><a href="#获取候选池单个节点信息" class="header-anchor">#</a> 获取候选池单个节点信息</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.getAllStandBys</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th style="text-align:center;">是否必选</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td style="text-align:center;"></td> <td></td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>node_sign_key</td> <td>String</td> <td>节点注册时使用的公钥。账户公钥或者无资产的公私钥对中的公钥。</td></tr> <tr><td>node_account_address</td> <td>String</td> <td>节点账户地址。</td></tr> <tr><td>program_version</td> <td>String</td> <td>主链版本号。</td></tr> <tr><td>stake</td> <td>Unit64</td> <td>节点权益。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">StandBysResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StandBysResponse</span><span class="token punctuation">&gt;</span></span> sb <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getAllStandBys</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>sb<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;node_account_address&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;node_sign_key&quot;</span><span class="token operator">:</span><span class="token string">&quot;BFFVnheBS2yJLwlb+q6xH/DL+RotbvRdd9YeJKug1tP+WppTdB36KzMOHxmHTsh5u9BKgPDgXppFvyBeqYUxoTU=&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;program_version&quot;</span><span class="token operator">:</span><span class="token string">&quot;1.0.0.0&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;stake&quot;</span><span class="token operator">:</span><span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1600658014340&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取链上治理参数"><a href="#获取链上治理参数" class="header-anchor">#</a> 获取链上治理参数</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.getCGP</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th style="text-align:center;">是否必选</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/On-ChainGovernance/On-ChainGovernanceParameters.html">链上治理参数</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>


<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ChainInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">CGPResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CGPResponse</span><span class="token punctuation">&gt;</span></span> cgp <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getCGP</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>cgp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span> 
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span> 
      <span class="token string">&quot;additional_issue_year_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;application_contract_code_max_len&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;32768&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;archive_election_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;archive_reward_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;auditor_group_count&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;auditor_reward_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;award_auditor_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;30000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;award_validator_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;30000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;backward_auditor_slash_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;backward_node_lock_duration_increment&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;103681&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;backward_validator_slash_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;beacon_tx_fee&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;bookload_max_block_per_table&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;32&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cgc_proposal_expire_time&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;claim_node_reward_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8640&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;claim_voter_dividend_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8640&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cluster_election_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;71&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cluster_election_minimum_rotation_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;66&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cluster_zero_workload&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;contract_transaction_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;25&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cpu_gas_exchange_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;40&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cross_reading_rec_standby_pool_contract_height_step_limitation&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;cross_reading_rec_standby_pool_contract_logic_timeout_limitation&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;29&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;custom_property_max_number&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;128&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;custom_property_name_max_len&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;dividend_ratio_change_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;120960&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;edge_election_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;edge_reward_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;election_rotation_count_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;free_gas&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;25000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;fullunit_contain_of_unit_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;21&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;governance_reward_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;initial_total_locked_token&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;10000000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;leader_election_round&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_archive_group_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;512&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_auditor_group_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;64&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_auditor_rotation_count&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_edge_group_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;512&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_election_committee_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;256&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_gas_account&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;200000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_gas_contract&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;10000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_nodedeposit_lock_duration&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;3153593&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_validate_stake&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;24500000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_validator_group_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;128&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;max_vote_nodes_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_archive_deposit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1000000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_auditor_deposit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1000000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_auditor_group_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;32&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_cgc_proposal_deposit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_edge_deposit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_election_committee_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;32&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_free_gas_balance&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_mainnet_active_archives&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_mainnet_active_auditors&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;128&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_mainnet_active_edges&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_mainnet_active_validators&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;512&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_mainnet_active_votes&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_node_reward&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_ratio_annual_total_reward&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_stake_votes_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_table_block_report&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;32&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_tx_deposit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_validator_deposit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;500000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_validator_group_size&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;32&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_voter_dividend&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;min_votes_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;nodes_per_segment&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;27&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;punish_interval_table_block&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;147456&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;punish_interval_time_block&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8641&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;rec_election_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;60480&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;rec_standby_pool_update_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;reward_issue_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8640&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;schedule_table_num_per_clock&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;shard_zero_workload&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;sign_block_publishment_threshold_value&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;sign_block_ranking_publishment_threshold_value&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;sign_block_ranking_reward_threshold_value&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;sign_block_reward_threshold_value&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;80&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;sign_table_blocks_report_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;311&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;tableblock_batch_tx_max_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;64&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;tableblock_batch_unitblock_max_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;64&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;task_num_per_round&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;16&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;tcc_member_number&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-0-Ldf7KcME5YaNvtFsr6jCFwNU9i7NeZ1b5a,T-0-LWUw2ioaCw3TYJ9Lsgu767bbNpmj75kv73,T-0-LTHfpc9otZwKmNcXA24qiA9A6SMHKkxwkg&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;toggle_whitelist&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;total_gas_shard&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2160000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;total_issuance&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;20000000000000000&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;tx_deposit_gas_exchange_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;100&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;tx_send_timestamp_tolerance&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;300&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;unitblock_confirm_tx_batch_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;unitblock_recv_transfer_tx_batch_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;unitblock_send_transfer_tx_batch_num&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;unlock_gas_staked_delay_time&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8641&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;usedgas_decay_cycle&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8641&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;validator_group_count&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;4&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;validator_reward_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;vote_reward_ratio&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;20&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;votes_report_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;30&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;whitelist&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-0-LhCXUC5iQCREefnRPRFhxwDJTEbufi41EL,T-0-LefzYnVUayJSgeX3XdKCgB4vk7BVUoqsum,T-0-LeXNqW7mCCoj23LEsxEmNcWKs8m6kJH446,T-0-LXqp1NkfooMAw7Bty2iXTxgTCfsygMnxrT,T-0-LcNfcqFPH9vy3EYApkrcXLcQN2hb1ygZWE,T-0-LTHfpc9otZwKmNcXA24qiA9A6SMHKkxwkg,T-0-LLJ8AsN4hREDtCpuKAxJFwqka9LwiAon3M,T-0-Ldf7KcME5YaNvtFsr6jCFwNU9i7NeZ1b5a,T-0-LWUw2ioaCw3TYJ9Lsgu767bbNpmj75kv73,T-0-LKfBYfwTcNniDSQqj8fj5atiDqP8ZEJJv6,T-0-LTSip8Xbjutrtm8RkQzsHKqt28g97xdUxg,T-0-Lgv7jLC3DQ3i3guTVLEVhGaStR4RaUJVwA,T-0-LNi53Ub726HcPXZfC4z6zLgTo5ks6GzTUp,T-0-LVpL9XRtVdU5RwfnmrCtJhvQFxJ8TB46gB,T-0-LaFmRAybSKTKjE8UXyf7at2Wcw8iodkoZ8,T-0-LUv7e8RZLNtnE1K9sEfE9SYe74rwYkzEub,T-0-LXRSDkzrUsseZmfJFnSSBsgm754XwV9SLw&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;workload_per_tableblock&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;workload_per_tx&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;workload_report_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1080&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;workload_timer_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;18&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;zec_election_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8640&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;zec_standby_pool_update_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;11&quot;</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;zone_election_trigger_interval&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;5&quot;</span> 
   <span class="token punctuation">}</span><span class="token punctuation">,</span> 
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span> 
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;4&quot;</span> 
<span class="token punctuation">}</span>
</code></pre></div><h2 id="账户管理"><a href="#账户管理" class="header-anchor">#</a> 账户管理</h2> <h3 id="查询链上账户信息"><a href="#查询链上账户信息" class="header-anchor">#</a> 查询链上账户信息</h3> <p>当一个用户发送交易至链上时，必须要使用该用户最新的&quot;nonce&quot;和&quot;last_hash_xxhash64&quot;，这两个属性可以从该方法的返回值中获取。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.getAccount</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th style="text-align:center;">是否必选</th> <th style="text-align:center;">默认值</th> <th style="text-align:center;">类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td style="text-align:center;">是</td> <td style="text-align:center;">-</td> <td style="text-align:center;">Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>查询普通账户信息：</p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>account_addr</td> <td>String</td> <td>账户地址。</td></tr> <tr><td>available_gas</td> <td>Uint64</td> <td>账户现有可用gas的量，单位Tgas。如返回值为负，可能因为两种原因：1.获取了免费gas后账户余额不足100*10^6 uTOP;2.在用完锁定TOP token兑换的gas后解锁TOP token。</td></tr> <tr><td>balance</td> <td>Uint64</td> <td>账户余额，单位uTOP。</td></tr> <tr><td>burned_token</td> <td>Uint64</td> <td>该账户所有已经销毁的TOP token，单位uTOP。</td></tr> <tr><td>cluster_id</td> <td>Uint8</td> <td>cluster ID。</td></tr> <tr><td>contract_address</td> <td>List</td> <td>此普通账户如果部署了用户合约，返回用户合约账户地址。</td></tr> <tr><td>created_time</td> <td>Uint64</td> <td>账户在链上创建的时钟高度。</td></tr> <tr><td>disk_staked_token</td> <td>Uint64</td> <td>兑换disk锁定的TOP token，单位uTOP。</td></tr> <tr><td>gas_staked_token</td> <td>Uint64</td> <td>兑换gas锁定的TOP token，单位uTOP。</td></tr> <tr><td>group_id</td> <td>Uint8</td> <td>group ID。</td></tr> <tr><td>latest_tx_hash</td> <td>String</td> <td>最新共识成功的交易hash。</td></tr> <tr><td>latest_tx_hash_xxhash64</td> <td>String</td> <td>最新共识成功的交易xx64hash。</td></tr> <tr><td>latest_unit_height</td> <td>Uint64</td> <td>最新共识成功的交易的unit block高度。</td></tr> <tr><td>lock_balance</td> <td>Uint64</td> <td>锁定的TOP token，单位uTOP，主要用于用户合约交易。 调用用户合约的时候，交易发送方可同时给合约账户转账，如果合约执行失败，转账款需要退还给发送方，所以在合约执行成功前，先将转账款锁定。</td></tr> <tr><td>lock_deposit_balance</td> <td>Uint64</td> <td>用户合约交易费用与执行合约交易占用的CPU时长以及交易大小相关，无法在交易开始确定合约的交易费用。采取的方法是冻结一部分发送方交易保证金，在交易第三次共识的时候，根据合约的最终执行情况，扣除发送方交易保证金以支付交易费用，单位uTOP。</td></tr> <tr><td>lock_gas</td> <td>Uint64</td> <td>用户合约交易费用与据执行合约交易占用的CPU时长以及交易大小相关，无法在交易开始确定合约的交易费用。采取的方法是冻结发送方一部分gas，在交易第三次共识的时候，根据合约的最终执行情况，扣除发送方交易消耗的gas，单位Tgas。</td></tr> <tr><td>nonce</td> <td>Uint64</td> <td>该账户最新共识成功的交易序号，唯一。</td></tr> <tr><td>total_free_gas</td> <td>Uint64</td> <td>账户免费获取的gas总量，单位Tgas。目前当账户余额≥100*10^6 uTOP，系统会免费赠与该账户25,000 Tgas。该值随着链上参数治理变化而变化。</td></tr> <tr><td>total_gas</td> <td>Uint64</td> <td>账户gas总量，单位Tgas。 一个普通账户24小时内可以获得的gas不超过200,000Tgas。 一个合约账户24小时内可以获得的gas不超过10,000,000Tgas。</td></tr> <tr><td>total_stake_gas</td> <td>Uint64</td> <td>账户锁定TOP token而获得的gas总量，单位Tgas。</td></tr> <tr><td>unlock_disk_staked</td> <td>Uint64</td> <td>解锁中的兑换disk的TOP token，发起解锁后，需要等待24小时，并由锁定账户发起一笔交易后，解锁的金额才会到账。</td></tr> <tr><td>unlock_gas_staked</td> <td>Uint64</td> <td>解锁中的兑换gas的TOP token，发起解锁后，需要等待24小时，并由锁定账户发起一笔交易后，解锁的金额才会到账。</td></tr> <tr><td>unused_free_gas</td> <td>Uint64</td> <td>免费gas余量，单位Tgas。</td></tr> <tr><td>unused_stake_gas</td> <td>Uint64</td> <td>锁定TOP token兑换的gas余量，单位Tgas。</td></tr> <tr><td>unused_vote_amount</td> <td>Uint64</td> <td>该账户未使用选票数量。</td></tr> <tr><td>vote_staked_token</td> <td>Uint64</td> <td>兑换选票锁定的TOP token，单位uTOP。</td></tr> <tr><td>zone_id</td> <td>Uint8</td> <td>zone ID。</td></tr></tbody></table> <p>账户所属分片网络信息：</p> <table><thead><tr><th>ID</th> <th>分片网络</th></tr></thead> <tbody><tr><td>zone_id、cluster_id、group_id，分别为1、0、0</td> <td>Root-Beacon Network</td></tr> <tr><td>zone_id、cluster_id、group_id，分别为2、0、0</td> <td>Sub-Beacon Network</td></tr> <tr><td>zone_id、cluster_id、group_id，分别为14、1、1</td> <td>Archive Network</td></tr> <tr><td>zone_id、cluster_id、group_id，分别为15、1、1</td> <td>Edge Network</td></tr> <tr><td>zone_id、cluster_id，分别为0、1，group_id的值为[1,63]</td> <td>Audit Network</td></tr> <tr><td>zone_id、cluster_id，分别为0、1，group_id的值为[64,126]</td> <td>Validate Network</td></tr></tbody></table> <p>如查询用户合约账户信息，以上参数除&quot;contract_address&quot;外，新增以下两个参数。</p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>contract_code</td> <td>String</td> <td>合约代码。</td></tr> <tr><td>contract_parent_account</td> <td>String</td> <td>合约父账户，部署合约的账户。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">AccountInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AccountInfoResponse</span><span class="token punctuation">&gt;</span></span>  accountInfoResponse <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>accountInfoResponse<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;account_addr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;available_gas&quot;</span> <span class="token operator">:</span> <span class="token number">25000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;balance&quot;</span> <span class="token operator">:</span> <span class="token number">100000000000000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;burned_token&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;cluster_id&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;contract_address&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">T</span><span class="token operator">-</span><span class="token number">3</span><span class="token operator">-</span><span class="token class-name">MaSkcvg2iyqMRDRMFnTQ8o5237Xs1dT9TR</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;created_time&quot;</span> <span class="token operator">:</span> <span class="token number">1596520429</span><span class="token punctuation">,</span>
      <span class="token string">&quot;disk_staked_token&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;group_id&quot;</span> <span class="token operator">:</span> <span class="token number">64</span><span class="token punctuation">,</span>
      <span class="token string">&quot;gas_staked_token&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;latest_tx_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0xfcd8843c36b1c8fee81bcac7e7cf2b38682deef723e9a237918b70b3a6dfc4c9&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;latest_tx_hash_xxhash64&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0xdb73d04d0f5daa84&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;latest_unit_height&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;lock_balance&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;lock_deposit_balance&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;lock_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;nonce&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      <span class="token string">&quot;total_free_gas&quot;</span> <span class="token operator">:</span> <span class="token number">25000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;total_gas&quot;</span> <span class="token operator">:</span> <span class="token number">25000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;total_stake_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;unlock_disk_staked&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> 
      <span class="token string">&quot;unlock_gas_staked&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      “unused_free_gas&quot; <span class="token operator">:</span> <span class="token number">25000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;unused_stake_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;unused_vote_amount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;vote_staked_token&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;zone_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;5&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="转账"><a href="#转账" class="header-anchor">#</a> 转账</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.transfer</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Object</td> <td>发送交易前，需要先获取最新的nonce和last_hash_xxhash64赋值与需要使用的account对象中，可直接调用&quot;topjs.updateNonceAndLastHash&quot;方法，将自动把这两个参数放入account对象中。</td></tr> <tr><td style="text-align:center;">to</td> <td>是</td> <td>-</td> <td>String</td> <td>交易接收账户地址，为普通账户或者合约账户。<br>接收者地址在&quot;target_action&quot;对象下的&quot;account_addr&quot;属性中。</td></tr> <tr><td style="text-align:center;">note</td> <td>否</td> <td>空字符串</td> <td>String</td> <td>转账备注。</td></tr> <tr><td style="text-align:center;">amount</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>转账金额，单位uTOP。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>返回交易结果对象,请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.47:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span><span class="token string">&quot;T-0-LiC6tHMcmS8Qpn6LQuWcLRXjvGuYXQGthd&quot;</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;original_tx_info&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token string">&quot;authorization&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x01ecc8e94deb97155f078a5d15ca982d7d67395787be17b53f6a3ad649cf5075ad13a8af3bf58a4c36e48f428dc160af5b41d5a3db648e05ba7ea06fc0f7241eb3&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;challenge_proof&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;from_ledger_id&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;last_tx_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;8953296047531467839&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;last_tx_nonce&quot;</span><span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">,</span>
            <span class="token string">&quot;note&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;receiver_action&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;action_authorization&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_ext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_hash&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_param&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x000000008c0000000000000000000000&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_size&quot;</span><span class="token operator">:</span><span class="token number">82</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_type&quot;</span><span class="token operator">:</span><span class="token number">6</span><span class="token punctuation">,</span>
                <span class="token string">&quot;tx_receiver_account_addr&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LiC6tHMcmS8Qpn6LQuWcLRXjvGuYXQGthd&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;send_timestamp&quot;</span><span class="token operator">:</span><span class="token number">1600671092</span><span class="token punctuation">,</span>
            <span class="token string">&quot;sender_action&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;action_authorization&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_ext&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_hash&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_name&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_param&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x000000008c0000000000000000000000&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_size&quot;</span><span class="token operator">:</span><span class="token number">82</span><span class="token punctuation">,</span>
                <span class="token string">&quot;action_type&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;tx_sender_account_addr&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;to_ledger_id&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_deposit&quot;</span><span class="token operator">:</span><span class="token number">300000</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_expire_duration&quot;</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0xd0a468822f5d983f468947b70a48489e90e5ff2806190f7ec16fe157662a8f53&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_len&quot;</span><span class="token operator">:</span><span class="token number">323</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_random_nonce&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_structure_version&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_type&quot;</span><span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
            <span class="token string">&quot;xx64Hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;0x412da7bf7cf8f4&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;tx_consensus_state&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token string">&quot;confirm_unit_info&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;exec_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;height&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;recv_tx_exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;tx_exec_status&quot;</span><span class="token operator">:</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;unit_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;d47bc0df7cfc9d92b5d00ac71cd3a1cedfdf7956d55abd247304d678a87b5292&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_deposit&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_disk&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_gas&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;recv_unit_info&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;height&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;unit_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;073922013d27e7bc27cb5536ad2151472d5a7cca591087049493fdaf49fc1ee4&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_deposit&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_disk&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_gas&quot;</span><span class="token operator">:</span><span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;send_unit_info&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
                <span class="token string">&quot;height&quot;</span><span class="token operator">:</span><span class="token number">39</span><span class="token punctuation">,</span>
                <span class="token string">&quot;tx_fee&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;unit_hash&quot;</span><span class="token operator">:</span><span class="token string">&quot;98eebc38b0d6b38d9a935feb8bcf0c0d1219acaabcd22980e8042e0e17343bb7&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_deposit&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_disk&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;used_gas&quot;</span><span class="token operator">:</span><span class="token number">798</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1600671092156&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="查询账户交易详情"><a href="#查询账户交易详情" class="header-anchor">#</a> 查询账户交易详情</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.getTransaction</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">txHash</td> <td>是</td> <td>-</td> <td>String</td> <td>交易hash。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.47:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getTransaction</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span><span class="token string">&quot;0xd0a468822f5d983f468947b70a48489e90e5ff2806190f7ec16fe157662a8f53&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>返回样例</strong></p> <p>根据交易不同状态，返回交易信息不同，具体如下。</p> <ul><li>成功返回</li></ul> <p>说明：</p> <blockquote><ul><li>交易为单账户交易，交易只在交易发送方下进行一次共识，查询交易最终返回结果中只有&quot;confirm_unit_info&quot;的信息。</li> <li>交易为跨账户交易，交易总共需要进行三次共识，查询交易最终返回结果中包括三次共识的信息，包括&quot;confirm_unit_info（发送方第二次共识）&quot;、&quot;recv_unit_info（接收方共识）&quot;、&quot;send_unit_info&quot;（发送方第一次共识），如下所示。</li></ul></blockquote> <p>1.交易在区块中，但不在交易池中，交易状态为&quot;confirmed&quot;，返回交易原始信息及所有区块信息，如下所示。</p> <p>根据返回参数exec_status判断交易最终是否成功：</p> <p>（1）当exec_status返回值为&quot;success&quot;，证明交易最终成功。</p> <p>（2）当exec_status返回值为&quot;failure&quot;，则交易失败，此时recv_tx_exec_status返回值为&quot;failure&quot;，表明交易接收方共识失败。</p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x005d19e04e77e99a0b9c029b0a247fe30009b3cc543db18bdb503b37e7d0788d50530437ef65583da62454bb4eafe2cf5e03952134a2ba08e84565e3d8e0aa893e&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; :17135334008990501175
         &quot;last_tx_nonce&quot; : 1,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1596523599,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000001027000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 6,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LiC6tHMcmS8Qpn6LQuWcLRXjvGuYXQGthd&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000001027000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xd0a468822f5d983f468947b70a48489e90e5ff2806190f7ec16fe157662a8f53&quot;,
         &quot;tx_len&quot; : 315,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 4
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 3,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;bd47732e8d959846c0302ab3582632e6c11e19c1d30f6578213fc4342de95b01&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 1,
            &quot;unit_hash&quot; : &quot;f75ea49c50f4fe151931bc782468e0243880994393f0a8c30e8179597aaa5389&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 2,
            “tx_fee&quot; : 0，
            &quot;unit_hash&quot; : &quot;80e4029f0ce8c2861ac89b5b9394ced6cf80161ebc899d22cb6d1a4afc8616b9&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 774
         }
      }
   },
   &quot;errmsg&quot; : &quot;ok&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;8&quot;
}
</code></pre></div><p>2.交易同时在区块和交易池中，交易状态为&quot;pending&quot;，此时查询交易返回交易原始信息，及部分有效区块信息。</p> <p>如下所示，此时交易完成了第一轮共识，返回&quot;send_unit_info&quot;有效信息，而此时第二、三轮共识尚未成功。</p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01e561ef402c741267205afcef44c55dd4b63d8bd3541865ed54bab899e8bb4a14561c3023e018a887f39b11991ef80fb00e26ae646f09f4fffa0b95c1d3354896&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 626445491935432046,
         &quot;last_tx_nonce&quot; : 3,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1600856931,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000006400000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 6,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LiC6tHMcmS8Qpn6LQuWcLRXjvGuYXQGthd&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000006400000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x34ca8f317107ce6b01c933b017f28e6cf0f84f2e31627a8349f167c1aa9ade10&quot;,
         &quot;tx_len&quot; : 315,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 4
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;height&quot; : 0,
            &quot;unit_hash&quot; : &quot;6a7801c5c10a093d0f5ce8e44eda97e6948e8cd79dc6264722fd6309d9a795b9&quot;
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 0,
            &quot;unit_hash&quot; : &quot;8c9ff2688d524c9e319e13bb3276b61f0fd0737bc2a8d8ae11ac423d9edb6e1a&quot;
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 6,
            &quot;tx_fee&quot; : 0,
            &quot;unit_hash&quot; : &quot;4c973bf24d97dea94fbbd22a9271619a4a11bca5e0e04f0deff1587160aba9e4&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 945
         }
      }
   },
   &quot;errmsg&quot; : &quot;ok&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;18&quot;
}
</code></pre></div><p>3.交易不在区块，在交易池中，交易状态为&quot;pending&quot;，只返回交易原始信息，交易共识信息为&quot;null&quot;，如下所示。</p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01e561ef402c741267205afcef44c55dd4b63d8bd3541865ed54bab899e8bb4a14561c3023e018a887f39b11991ef80fb00e26ae646f09f4fffa0b95c1d3354896&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 626445491935432046,
         &quot;last_tx_nonce&quot; : 3,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1600856931,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000006400000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 6,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LiC6tHMcmS8Qpn6LQuWcLRXjvGuYXQGthd&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000006400000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xe4d16d17fba819fe2fe66172f354f5f37b8ffa02f28c15b0cade0356948fa660&quot;,
         &quot;tx_len&quot; : 315,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 4
      },
      &quot;tx_consensus_state&quot; : null
   },
   &quot;errmsg&quot; : &quot;ok&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;17&quot;
}
</code></pre></div><h3 id="锁定top-token兑换gas"><a href="#锁定top-token兑换gas" class="header-anchor">#</a> 锁定TOP_token兑换gas</h3> <p>兑换gas的价格为：</p> <p><img src="03-java-sdk.assets/Snap57-1601437431814.jpg" alt="Snap57"></p> <p>此兑换率随着系统中锁定的TOP tokens变化而变化。</p> <p>一个普通账户24小时内可以获得的gas不超过200,000Tgas，大约可以发起800条交易。</p> <p>一个合约账户24小时内可以获得的gas不超过10,000,000Tgas，大约可以执行4万条交易，使用4秒CPU。</p> <p>账户24小时内最多可兑换的gas=24小时内可以获得的gas上限-24小时内免费gas。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.stakeGas</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">locked_utop</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>锁定金额，单位uTOP。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">AccountInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">stakeGas</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x0072596cc19750c3f818b22058c201d06579a67f4ee9324789e359b31091c238634aea2cd31abc9e6418e071d184f4566b02d0d976e17110aa0823656c68156344&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 4806684555991511788,
         &quot;last_tx_nonce&quot; : 1,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603781915,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x00000000a00f000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 23,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 1,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x85f712cb3fcb55a710e58897df16184550c107704119a74c4ae26cece5d1b81c&quot;,
         &quot;tx_len&quot; : 303,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 22
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 3,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;049742dd5652884811573af3823704c704a01642920c810b5c08c486a95f7222&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 303
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;31&quot;
}
</code></pre></div><h3 id="解锁兑换gas的top-token"><a href="#解锁兑换gas的top-token" class="header-anchor">#</a> 解锁兑换gas的TOP_token</h3> <p>发起解锁后，需要等待24小时，并由锁定账户发起一笔交易后，解锁的金额才会到账。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.unStakeGas</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">unlocked_utop</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>赎回金额，单位uTOP。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">AccountInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">unStakeGas</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x014ebe3ec669f3a7a02a8d0de29ed7bc5e1a8b357d3fd4244e313110815a1ac2543e58b911b30c04e27b74ab601e512ac19ee51b8903ebfb7b635a69f17c637995&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 15658795022171383253,
         &quot;last_tx_nonce&quot; : 2,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603782021,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x00000000d007000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 24,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 1,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xc3cf9b1894b96eef6fe941235801f0a31dcfd8fbf7aee461ab3bb1b6bed93f22&quot;,
         &quot;tx_len&quot; : 303,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 23
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 4,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;507a149cdf7e96c40346eb71503d71ecc6880907f5b5397b67b111a8ce6e8895&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 303
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;35&quot;
}
</code></pre></div><h2 id="用户智能合约部署和调用"><a href="#用户智能合约部署和调用" class="header-anchor">#</a> 用户智能合约部署和调用</h2> <h3 id="部署用户智能合约"><a href="#部署用户智能合约" class="header-anchor">#</a> 部署用户智能合约</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.deployContract</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">contractCode</td> <td>是</td> <td>-</td> <td>String</td> <td>合约代码。</td></tr> <tr><td style="text-align:center;">amount</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>转入合约账户的金额，单位uTOP。<br>部署合约会创建一个合约账户，您可以同时向此账户中转账，也可以不转。<br>如果希望合约账户能得到免费的gas，那么向合约账户中的转账金额须大于等于100*10^6 uTOP token。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>net<span class="token punctuation">.</span></span>URL<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> codeStr <span class="token operator">=</span> <span class="token function">getResourceFile</span><span class="token punctuation">(</span><span class="token string">&quot;opt_map.lua&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">deployContract</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> codeStr<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">getResourceFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">URL</span> url <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getContextClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResource</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>inputStream<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        inputStream<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> codeStr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> codeStr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <p>合约账户地址为： &quot;tx_receiver_account_addr&quot;:&quot;T-3-MeFQZx2UUTNW9g9g6Qh725BMdjnvfZnsAi&quot;。</p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;data&quot;:{
        &quot;original_tx_info&quot;:{
            &quot;authorization&quot;:&quot;0x01ecc8e94deb97155f078a5d15ca982d7d67395787be17b53f6a3ad649cf5075ad13a8af3bf58a4c36e48f428dc160af5b41d5a3db648e05ba7ea06fc0f7241eb3&quot;,
            &quot;challenge_proof&quot;:&quot;&quot;,
            &quot;ext&quot;:&quot;&quot;,
            &quot;from_ledger_id&quot;:0,
            &quot;last_tx_hash&quot;:&quot;0x10a5e44a3d4a8468&quot;,
            &quot;last_tx_nonce&quot;:5,
            &quot;note&quot;:&quot;&quot;,
            &quot;receiver_action&quot;:{
                &quot;action_authorization&quot;:&quot;&quot;,
                &quot;action_ext&quot;:&quot;&quot;,
                &quot;action_hash&quot;:0,
                &quot;action_name&quot;:&quot;&quot;,
                     &quot;action_param&quot;:&quot;0x00000000000000007a04000066756e6374696f6e20696e697428290a202020206372656174655f6b6579282774656d705f3127290a202020206372656174655f6b6579282774656d705f3227290a202020206372656174655f6b6579282774656d705f6127290a20202020686372656174652827686d617027290a202020207365745f6b6579282774656d705f31272c2027736627290a202020207365745f6b6579282774656d705f32272c2027616227290a202020207365745f6b6579282774656d705f61272c202761636227290a20202020687365742827686d6170272c20276b6579272c202776616c27290a20202020686372656174652827656d7074795f6d617027290a202020206372656174655f6b657928276d61705f6c656e27290a202020206372656174655f6b657928276d61705f73747227290a0a202020206c63726561746528276d6c69737427290a20202020727075736828276d6c697374272c2027343427290a656e640a0a66756e6374696f6e206f70745f6d6170286b65792c2076616c7565290a20202020687365742827686d6170272c20746f737472696e67286b6579292c20746f737472696e672876616c756529290a202020206c7075736828226d6c697374222c20746f737472696e672876616c756529290a656e640a0a66756e6374696f6e20636865636b5f6d6170286b6579290a202020206c6f63616c206d61705f6c656e203d20686c656e2827686d617027290a202020207365745f6b6579282774656d705f31272c20746f737472696e67286d61705f6c656e29290a202020206c6f63616c206d61705f737472203d20686765742827686d6170272c20746f737472696e67286b657929290a202020207365745f6b6579282774656d705f32272c20746f737472696e67286d61705f73747229290a202020206864656c2827686d6170272c20746f737472696e67286b657929290a656e640a0a66756e6374696f6e206765745f656d7074795f6d617028290a202020207365745f6b657928276d61705f6c656e272c20746f737472696e6728686c656e2827656d7074795f6d6170272929290a202020207365745f6b657928276d61705f737472272c20746f737472696e6728686765742827656d7074795f6d6170272c2027756e6578697374272929290a656e640a0a66756e6374696f6e206765745f656d7074795f6b657928290a202020207365745f6b657928276d61705f737472272c20746f737472696e6728686765742827656d7074795f6d6170272c2027272929290a656e640a0a66756e6374696f6e2064656c5f656d7074795f6b657928290a202020206864656c2827686d6170272c202727290a202020207365745f6b657928276d61705f6c656e272c20746f737472696e6728686c656e2827656d7074795f6d6170272929290a656e640a0a66756e6374696f6e2064656c5f6e6f745f65786973745f6b657928290a202020206864656c2827686d6170272c2027756e657869737427290a202020207365745f6b657928276d61705f6c656e272c20746f737472696e6728686c656e2827656d7074795f6d6170272929290a656e640a&quot;,
                &quot;action_size&quot;:82,
                &quot;action_type&quot;:3,
                &quot;tx_receiver_account_addr&quot;:&quot;T-3-MeFQZx2UUTNW9g9g6Qh725BMdjnvfZnsAi&quot;
            },
            &quot;send_timestamp&quot;:1600671092,
            &quot;sender_action&quot;:{
                &quot;action_authorization&quot;:&quot;&quot;,
                &quot;action_ext&quot;:&quot;&quot;,
                &quot;action_hash&quot;:0,
                &quot;action_name&quot;:&quot;&quot;,
                &quot;action_param&quot;:&quot;0x00000000c80000000000000000000000&quot;,
                &quot;action_size&quot;:82,
                &quot;action_type&quot;:0,
                &quot;tx_sender_account_addr&quot;:&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            },
            &quot;to_ledger_id&quot;:0,
            &quot;tx_deposit&quot;:300000,
            &quot;tx_expire_duration&quot;:100,
            &quot;tx_hash&quot;:&quot;0xd0a468822f5d983f468947b70a48489e90e5ff2806190f7ec16fe157662a8f53&quot;,
            &quot;tx_len&quot;:323,
            &quot;tx_random_nonce&quot;:0,
            &quot;tx_structure_version&quot;:0,
            &quot;tx_type&quot;:1
        },
        &quot;tx_consensus_state&quot;:{
            &quot;confirm_unit_info&quot;:{
                &quot;exec_status&quot;:&quot;success&quot;,
                &quot;height&quot;:0,
                &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
                &quot;tx_exec_status&quot;:&quot;success&quot;,
                &quot;unit_hash&quot;:&quot;d47bc0df7cfc9d92b5d00ac71cd3a1cedfdf7956d55abd247304d678a87b5292&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:0
            },
            &quot;recv_unit_info&quot;:{
                &quot;height&quot;:18,
                &quot;unit_hash&quot;:&quot;8d131cc229145f576cd05da992bfe25a226eb854ab3039e0be43550227d9be16&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:0
            },
            &quot;send_unit_info&quot;:{
                &quot;height&quot;:39,
                &quot;tx_fee&quot;:0,
                &quot;unit_hash&quot;:&quot;98eebc38b0d6b38d9a935feb8bcf0c0d1219acaabcd22980e8042e0e17343bb7&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:798
            }
        }
    },
    &quot;errmsg&quot;:&quot;ok&quot;,
    &quot;errno&quot;:0,
    &quot;sequence_id&quot;:&quot;1600671217159&quot;
}
</code></pre></div><h3 id="调用用户智能合约"><a href="#调用用户智能合约" class="header-anchor">#</a> 调用用户智能合约</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.callContract</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">contractAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>合约账户地址。</td></tr> <tr><td style="text-align:center;">actionName</td> <td>是</td> <td>-</td> <td>String</td> <td>方法名。</td></tr> <tr><td style="text-align:center;">contractParams</td> <td>是</td> <td>-</td> <td>List</td> <td>调用参数（包括String、Unit64、Boolean）。</td></tr> <tr><td style="text-align:center;">tokenType</td> <td>否</td> <td>-</td> <td>String</td> <td>token类型。</td></tr> <tr><td style="text-align:center;">amount</td> <td>否</td> <td>-</td> <td>BigInteger</td> <td>调用用户合约时，向用户智能合约账户中转账的金额，单位uTOP。</td></tr> <tr><td style="text-align:center;">deposit</td> <td>否</td> <td>-</td> <td>BigInteger</td> <td>交易保证金。</td></tr> <tr><td style="text-align:center;">note</td> <td>否</td> <td>-</td> <td>String</td> <td>交易备注。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>调用合约接口，无法直接返回调用结果，请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> contractAddress <span class="token operator">=</span> <span class="token string">&quot;T-3-MfCtfpfvMNbcPxMJjT9LSVA1GbX7Q7DuKm&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">callContract</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> contractAddress<span class="token punctuation">,</span> <span class="token string">&quot;set_new&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;中文&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;data&quot;:{
        &quot;original_tx_info&quot;:{
            &quot;authorization&quot;:&quot;0x01ecc8e94deb97155f078a5d15ca982d7d67395787be17b53f6a3ad649cf5075ad13a8af3bf58a4c36e48f428dc160af5b41d5a3db648e05ba7ea06fc0f7241eb3&quot;,
            &quot;challenge_proof&quot;:&quot;&quot;,
            &quot;ext&quot;:&quot;&quot;,
            &quot;from_ledger_id&quot;:0,
            &quot;last_tx_hash&quot;:&quot;0x10a5e44a3d4a8468&quot;,
            &quot;last_tx_nonce&quot;:5,
            &quot;note&quot;:&quot;&quot;,
            &quot;receiver_action&quot;:{
                &quot;action_authorization&quot;:&quot;&quot;,
                &quot;action_ext&quot;:&quot;&quot;,
                &quot;action_hash&quot;:0,
                &quot;action_name&quot;:&quot;set_new&quot;,
                &quot;action_param&quot;:&quot;0x0000000000000000&quot;,
                &quot;action_size&quot;:82,
                &quot;action_type&quot;:5,
                &quot;tx_receiver_account_addr&quot;:&quot;T-3-MfCtfpfvMNbcPxMJjT9LSVA1GbX7Q7DuKm&quot;
            },
            &quot;send_timestamp&quot;:1600671092,
            &quot;sender_action&quot;:{
                &quot;action_authorization&quot;:&quot;&quot;,
                &quot;action_ext&quot;:&quot;&quot;,
                &quot;action_hash&quot;:0,
                &quot;action_name&quot;:&quot;&quot;,
                &quot;action_param&quot;:&quot;0x00000000c80000000000000000000000&quot;,
                &quot;action_size&quot;:82,
                &quot;action_type&quot;:0,
                &quot;tx_sender_account_addr&quot;:&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            },
            &quot;to_ledger_id&quot;:0,
            &quot;tx_deposit&quot;:300000,
            &quot;tx_expire_duration&quot;:100,
            &quot;tx_hash&quot;:&quot;0xd0a468822f5d983f468947b70a48489e90e5ff2806190f7ec16fe157662a8f53&quot;,
            &quot;tx_len&quot;:323,
            &quot;tx_random_nonce&quot;:0,
            &quot;tx_structure_version&quot;:0,
            &quot;tx_type&quot;:3
        },
        &quot;tx_consensus_state&quot;:{
            &quot;confirm_unit_info&quot;:{
                &quot;exec_status&quot;:&quot;&quot;,
                &quot;height&quot;:0,
                &quot;tx_exec_status&quot;:&quot;&quot;,
                &quot;unit_hash&quot;:&quot;d47bc0df7cfc9d92b5d00ac71cd3a1cedfdf7956d55abd247304d678a87b5292&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:0
            },
            &quot;recv_unit_info&quot;:{
                &quot;height&quot;:18,
                &quot;unit_hash&quot;:&quot;8d131cc229145f576cd05da992bfe25a226eb854ab3039e0be43550227d9be16&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:0
            },
            &quot;send_unit_info&quot;:{
                &quot;height&quot;:39,
                &quot;tx_fee&quot;:0,
                &quot;unit_hash&quot;:&quot;98eebc38b0d6b38d9a935feb8bcf0c0d1219acaabcd22980e8042e0e17343bb7&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:798
            }
        }
    },
    &quot;errmsg&quot;:&quot;ok&quot;,
    &quot;errno&quot;:0,
    &quot;sequence_id&quot;:&quot;1600671217159&quot;
}
</code></pre></div><h3 id="获取属性"><a href="#获取属性" class="header-anchor">#</a> 获取属性</h3> <p>合约中保存的数据，会作为属性保存在合约账户中，可通过&quot;getProperty&quot;获取。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.getProperty</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">contractAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>合约地址。</td></tr> <tr><td style="text-align:center;">dataType</td> <td>是</td> <td>-</td> <td>String、Map、List</td> <td>目标属性的类型。</td></tr> <tr><td style="text-align:center;">params</td> <td>是</td> <td>-</td> <td>List（包括String、Long、Boolean）</td> <td>key。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>property_value</td> <td>List</td> <td>结果数组，获取List数据时，直接返回List中所有数据，返回值为ASCII码。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <p>dataType和params分别为目标属性的类型和key，dataType参数共有三种类型，分别为String、Map、List，故分别实现了getStringProperty、getMapProperty、getListProperty三个获取方法。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">GetPropertyResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> contractAddress <span class="token operator">=</span> <span class="token string">&quot;T-3-MfCtfpfvMNbcPxMJjT9LSVA1GbX7Q7DuKm&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GetPropertyResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> contractAddress<span class="token punctuation">,</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;temp_1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;property_value&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;7465737456616c7565&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;3434&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1588766493425&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;property_value&quot;</span><span class="token operator">:</span>
<span class="token punctuation">[</span><span class="token string">&quot;7465737456616c7565&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1588766493470&quot;</span><span class="token punctuation">}</span>
<span class="token punctuation">{</span><span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token string">&quot;property_value&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;7366&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1588766493488&quot;</span><span class="token punctuation">}</span>
</code></pre></div><h2 id="节点操作"><a href="#节点操作" class="header-anchor">#</a> 节点操作</h2> <h3 id="注册节点"><a href="#注册节点" class="header-anchor">#</a> 注册节点</h3> <p>TOP Network目前有三种类型的节点：边缘(edge)节点、验证(validator)节点、高级(advance)节点。您可以注册成为其中一种类型的节点。</p> <p>高级节点可在不同的网络里同时担任多个角色：验证（validator)、审计(auditor)、存档(archive)、Root-Beacon、Sub-Beacon。</p> <p>以下是各类型节点入网的最低保证金要求。</p> <table><thead><tr><th>节点角色</th> <th>最低注册保证金</th></tr></thead> <tbody><tr><td>边缘者(edge）</td> <td>100,000*10^6 uTOP token</td></tr> <tr><td>验证节点(validator）</td> <td>500,000*10^6 uTOP token</td></tr> <tr><td>高级节点(advance)</td> <td>1,000,000*10^6 uTOP token</td></tr></tbody></table> <p><strong>请求方法</strong></p> <blockquote><p>topj.registerNode</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">mortgage</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>节点质押金，单位uTOP。</td></tr> <tr><td style="text-align:center;">nodeType</td> <td>是</td> <td>-</td> <td>String</td> <td>节点类型，包括edge（边缘节点）、validator（验证节点）、advance（高级节点），高级节点兼具archive（存档）、validator（验证）、auditor（审计）角色。<br>您可以注册成为三种类型中的一种。<br>注册成为高级节点后，advance节点被选举为何种工作角色取决于节点的选票：<br>advance节点被选举为audtior、archive、Root-Beacon、Sub-Beacon角色，节点所获得的选票需要大于等于节点实际质押的保证金（此处节点保证金以TOP计算，非uTOP）。<br>当选票低于实际质押保证金时，advance节点只能被选为validator。<br>说明：<br>节点选票须由接受投票而得，可以由其他节点投票，也可由本账户投票。</td></tr> <tr><td style="text-align:center;">nickName</td> <td>是</td> <td>-</td> <td>String</td> <td>节点昵称，4-16字符，字母、数字或下划线。</td></tr> <tr><td style="text-align:center;">node_sign_key</td> <td>是</td> <td>-</td> <td>String</td> <td>您可以使用节点账户公私钥对作为节点注册的node key，此处直接传入节点账户的公钥。<br>为了更好地保护您的账户资产，建议您创建一对无资产的公私钥对，在节点注册入网后，节点工作时使用该私钥为节点签名。<br>此处请输入对应的公钥，其他节点可使用该公钥进行验签。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E6%8F%90%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">registerNode</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1000000000000l</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">NodeType</span><span class="token punctuation">.</span>advance<span class="token punctuation">,</span> <span class="token string">&quot;topNode1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;BLpvINEyyUBE+w3TYDXDqfwRzjDW8yUuFgg63Tx4p2/mktmAdU13ugZZTnDfpR2/6Hgy5bOMkaA/3q6A7QtBT2U=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;original_tx_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string">&quot;authorization&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x016d9e819838f607969077eeff315affeda3bd394ae260a02dc12a5a063822c9f972eaa830eee4f0d7001b72e07322bfdc233e4401c7ec508c9bebd87a943ef364&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;challenge_proof&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;ext&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;from_ledger_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;last_tx_hash&quot;</span> <span class="token operator">:</span> <span class="token number">1340984652899591420</span><span class="token punctuation">,</span>
         <span class="token string">&quot;last_tx_nonce&quot;</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
         <span class="token string">&quot;note&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;send_timestamp&quot;</span> <span class="token operator">:</span> <span class="token number">1603783299</span><span class="token punctuation">,</span>
         <span class="token string">&quot;to_ledger_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_action&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;receiver_action&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token string">&quot;action_authorization&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_ext&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_hash&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;registerNode&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_param&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x07000000616476616e636508000000746f704e6f64653158000000424c7076494e4579795542452b77335459445844716677527a6a445738795575466767363354783470322f6d6b746d416455313375675a5a546e44667052322f3648677935624f4d6b61412f33713641375174425432553d&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_size&quot;</span> <span class="token operator">:</span> <span class="token number">197</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_type&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
               <span class="token string">&quot;tx_receiver_account_addr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;sender_action&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token string">&quot;action_authorization&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_ext&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_hash&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_param&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x000000000010a5d4e8000000&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_size&quot;</span> <span class="token operator">:</span> <span class="token number">78</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_type&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token string">&quot;tx_sender_account_addr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_expire_duration&quot;</span> <span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x5d89dc0e829f6f417133221794a276e9ca296beac4af70288fb1be4955648dcc&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_len&quot;</span> <span class="token operator">:</span> <span class="token number">434</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_random_nonce&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_structure_version&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_type&quot;</span> <span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;tx_consensus_state&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string">&quot;confirm_unit_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
            <span class="token string">&quot;recv_tx_exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;unit_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;1a9c329fdd6e020f665a68e13d8a856a1554c7ce833cf8913cfb5fb187cd3d9c&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_disk&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token string">&quot;recv_unit_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
            <span class="token string">&quot;unit_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;6bdf470bb218110f98de71e9dbfcd0bb68fa1dd069d2498b799a3484076f99e3&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_disk&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token string">&quot;send_unit_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_fee&quot;</span> <span class="token operator">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>
            <span class="token string">&quot;unit_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;a5f110954666990a7da1e08ecd877b8b471ed93999fa9eff4e56cac60b1117cb&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_disk&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_gas&quot;</span> <span class="token operator">:</span> <span class="token number">1302</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;40&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="查询节点信息"><a href="#查询节点信息" class="header-anchor">#</a> 查询节点信息</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.queryNodeInfo</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">nodeAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>节点账户地址。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>account_addr</td> <td>String</td> <td>节点账户地址。</td></tr> <tr><td>auditor_credit</td> <td>String</td> <td>auditor节点信誉分。</td></tr> <tr><td>auditor_stake</td> <td>Uint64</td> <td>uditor节点权益：auditor stake=（节点保证金+节点得票总数/2）*信誉分</td></tr> <tr><td>dividend_ratio</td> <td>Integer</td> <td>分红率，百分比%，值为[0,100]。</td></tr> <tr><td>network_id</td> <td>String</td> <td>节点经过选举后，加入的具体的网络ID。</td></tr> <tr><td>node_deposit</td> <td>Uint64</td> <td>节点注册保证金。</td></tr> <tr><td>nodename</td> <td>String</td> <td>节点昵称。</td></tr> <tr><td>registered_node_type</td> <td>String</td> <td>节点注册类型：<br>边缘节点：edge<br>验证节点：validator<br>高级节点：advance</td></tr> <tr><td>node_sign_key</td> <td>String</td> <td>注册节点时使用的公钥。</td></tr> <tr><td>validator_credit</td> <td>String</td> <td>validator节点信誉分。</td></tr> <tr><td>validator_stake</td> <td>Uint64</td> <td>validator节点权益：validator stake=sqrt[（节点保证金+节点得票总数/2）*validator信誉分]</td></tr> <tr><td>vote_amount</td> <td>Uint64</td> <td>节点得票总数。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">&gt;</span></span> nodeInfo <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">queryNodeInfo</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> account<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;node info &gt; &quot;</span> <span class="token operator">+</span> JSON<span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>nodeInfo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;account_addr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;auditor_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0.100000&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;auditor_stake&quot;</span> <span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dividend_ratio&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;network_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0 &quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;node_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">1000000000000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;node_sign_key&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;BLpvINEyyUBE+w3TYDXDqfwRzjDW8yUuFgg63Tx4p2/mktmAdU13ugZZTnDfpR2/6Hgy5bOMkaA/3q6A7QtBT2U=&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;nodename&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;topNode1&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;rec_stake&quot;</span> <span class="token operator">:</span> <span class="token number">1000000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;registered_node_type&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;advance&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;validator_credit&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0.100000&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;validator_stake&quot;</span> <span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
      <span class="token string">&quot;vote_amount&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token string">&quot;zec_stake&quot;</span> <span class="token operator">:</span> <span class="token number">1000000</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;41&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="更新节点类型"><a href="#更新节点类型" class="header-anchor">#</a> 更新节点类型</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.updateNodeType</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">mortgage</td> <td>是</td> <td>-</td> <td>BigInteger</td> <td>抵押金</td></tr> <tr><td style="text-align:center;">nodeType</td> <td>是</td> <td>-</td> <td>String</td> <td>节点类型，所有类型都在NodeType对象下</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">updateNodeType</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1000000000000l</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">NodeType</span><span class="token punctuation">.</span>advance<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="设置节点昵称"><a href="#设置节点昵称" class="header-anchor">#</a> 设置节点昵称</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.setNodeName</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">nickname</td> <td>是</td> <td>-</td> <td>String</td> <td>节点昵称</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ff867b2ceb48f6bfc8a93d6c6aac05a29baad5da18ab5fb2bb9758379475fad8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">setNodeName</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token string">&quot;nick2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x0052387abd649c692a3b968afa9405ddcebfd9b376d2c61647b02321f181c722a74acfdd427e7af26012399b9b2211bbcdb2a680723effe3bd696565100a97146e&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 528724356827322285,
         &quot;last_tx_nonce&quot; : 9,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1604058625,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;setNodeName&quot;,
               &quot;action_param&quot; : &quot;0x050000006e69636b32&quot;,
               &quot;action_size&quot; : 90,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x775be6c8a765fda54e9a29755bd86d319b71cff03aa60b72ad7d68ea4962bca1&quot;,
         &quot;tx_len&quot; : 315,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 23,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;78d0b23386123461f58a99c9ad1f67802474e47360f0e1633002010ee5cc822f&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 5,
            &quot;unit_hash&quot; : &quot;a36bf3cb8614e84976435787544af37bee582bdb3b411e20de1734d942623d92&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 22,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;99c518d9ba7689bf93cf63116f7e055cf023405ae93dad8b8de1f79052ee9559&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 945
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;21&quot;
}

</code></pre></div><h3 id="增加节点保证金"><a href="#增加节点保证金" class="header-anchor">#</a> 增加节点保证金</h3> <p>您可以随时为节点增加保证金，从而提高您的综合权益(Comprehensive Stake)。</p> <p>增加节点保证金不会改变您注册的节点类型。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.stakeDeposit</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">mortgage</td> <td>是</td> <td>-</td> <td>BigInteger</td> <td>抵押金</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">stakeDeposit</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01a53df280500486c19d15eb045deec9fd0e8234ada70c1f81f3b0d1e53f989fb1696e20cede596cdf6ab68956b86b44b9278814635db0d37d2d997c2586341674&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 1109214534265249366,
         &quot;last_tx_nonce&quot; : 7,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1604057962,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;stakeDeposit&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 82,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x000000008813000000000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x9275db84b0add95ef74ea3a9e96439e91719063cacff58e4f24919b1008539d9&quot;,
         &quot;tx_len&quot; : 319,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 18,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;942847c62b996034ae5fd0f8580a5f2af22f71180ef9e5c2d500fefa963226b8&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 3,
            &quot;unit_hash&quot; : &quot;525ad899919f1f07d1c262c34fa02b1980425e6b41908cda28126cc06ad5e9b1&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 17,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;66ae53aca7cf9c1c7f98630d7b33eac40981897a6490f4e4788f497b1c9c59b8&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 957
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;13&quot;
}
</code></pre></div><h3 id="减少节点保证金"><a href="#减少节点保证金" class="header-anchor">#</a> 减少节点保证金</h3> <p>您可以随时减少质押的保证金，减少保证金不会改变您注册的节点类型，但是如果节点保证金余额低于当前类型节点保证金最低要求，减少保证金将失败。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.unStakeDeposit</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">mortgage</td> <td>是</td> <td>-</td> <td>BigInteger</td> <td>抵押金</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">unStakeDeposit</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">3500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01ffcb1b559f27098874a202bb180be13e6c70c9afb2aff8d0a4a4b45e14a44fb8446f84f6c58efcd1784a4da70081d6f7836dfdfd42f7bc7fab652d7eedde3d2b&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 7431771654725850424,
         &quot;last_tx_nonce&quot; : 10,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1604058791,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;unstakeDeposit&quot;,
               &quot;action_param&quot; : &quot;0xac0d000000000000&quot;,
               &quot;action_size&quot; : 92,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LWUw2ioaCw3TYJ9Lsgu767bbNpmj75kv73&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xbbee57e4d8af13c82683859e315c53ba5b323867e550aa9a3a7010687f312eaa&quot;,
         &quot;tx_len&quot; : 317,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 25,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;a64aed635209481487f5ce1b1a5954962ba914dde5e1cde3553b93f7e2146bdf&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 6,
            &quot;unit_hash&quot; : &quot;fc2db79b768197918f3f468e570fb3fbbaaa62e42edcf9d7e3db5f15d1feda34&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 24,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;d414220d54bda29d0570bfdd77a0f291fe6297293c61a968d8b39b56c73a9a83&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 951
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;31&quot;
}
</code></pre></div><h3 id="设置分红比例"><a href="#设置分红比例" class="header-anchor">#</a> 设置分红比例</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.setDividendRate</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">dividendRate</td> <td>是</td> <td>-</td> <td>BigInteger</td> <td>分红比例 [0 ~ 100]。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">setDividendRate</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x00617e9af79871f205facea1579a631bba0a9489f314eebd86919fc78e69427d4c365731e88be1b86b51712727223fbc340af794f19f2aed61cee4b842320aee48&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 15638817897079963913,
         &quot;last_tx_nonce&quot; : 8,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1604058128,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;setDividendRatio&quot;,
               &quot;action_param&quot; : &quot;0x3200000000000000&quot;,
               &quot;action_size&quot; : 94,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xb1fea03a8bb5c46fedc52ec7a578d64ec519e51ed54358e2c9c326869787cc12&quot;,
         &quot;tx_len&quot; : 319,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 20,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;2e94fcb1d732d2efb2c8c23511dd368202d12fa555744b6774ec3cf104dec67f&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 4,
            &quot;unit_hash&quot; : &quot;98b9ec8231b5da2baa3a5907f4aaf9f63bf2dbc9ff6d481384ec5fbe51ec4a47&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 19,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;236eb20d76cfd9167ac234b1d36babb521068e372941eddc76a779794dc4186d&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 957
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;17&quot;
}
</code></pre></div><h3 id="查询账户投票分布信息"><a href="#查询账户投票分布信息" class="header-anchor">#</a> 查询账户投票分布信息</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.listVoteUsed</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">voterAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>投票者账户地址。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>vote_infos</td> <td>Map数组</td> <td>接收投票节点账户地址(String)；给节点投票数量(Integer)。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">VoteUsedResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VoteUsedResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">listVoteUsed</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token string">&quot;T-0-LPbGMaA1pCQ4o8M2P3ZpaEHyXPGti4osGt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;data&quot;:{
        &quot;vote_infos&quot;:{
            &quot;T-0-LLJ8AsN4hREDtCpuKAxJFwqka9LwiAon3M&quot;:10000,
            &quot;T-0-LaFmRAybSKTKjE8UXyf7at2Wcw8iodkoZ8&quot;:5000
        }
    },
    &quot;errmsg&quot;:&quot;OK&quot;,
    &quot;errno&quot;:0,
    &quot;sequence_id&quot;:&quot;1603877877200&quot;
}
</code></pre></div><h3 id="注销节点"><a href="#注销节点" class="header-anchor">#</a> 注销节点</h3> <p>在TOP Network主网的节点要退出主网， 需要先发起节点注销。</p> <ul><li><p>节点注销只能节点自己发起。</p></li> <li><p>节点注销后， 保证金不会立马退回到节点账号上， 会被锁定一段时间（具体链上治理可配），如果节点作恶，锁定期会延长。</p></li> <li><p>锁定的保证金到期后需要节点账号主动发起赎回保证金的操作，不会自动退回。</p></li></ul> <p><strong>请求方法</strong></p> <blockquote><p>topj.unRegisterNode</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">unRegisterNode</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;original_tx_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string">&quot;authorization&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0x0184836e54ed29d37e0a0a0b3d9199ddf2a60ed2cd23016a0f223bbd5d9d3bccb206666b7053dab3acc69734bcca23ea62bab7279b999ec8ed2211e8d529cd7af6&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;challenge_proof&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;ext&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;from_ledger_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;last_tx_hash&quot;</span> <span class="token operator">:</span> <span class="token number">17668198504909011542</span><span class="token punctuation">,</span>
         <span class="token string">&quot;last_tx_nonce&quot;</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
         <span class="token string">&quot;note&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;send_timestamp&quot;</span> <span class="token operator">:</span> <span class="token number">1603783750</span><span class="token punctuation">,</span>
         <span class="token string">&quot;to_ledger_id&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_action&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;receiver_action&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token string">&quot;action_authorization&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_ext&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_hash&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;unregisterNode&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_param&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_size&quot;</span> <span class="token operator">:</span> <span class="token number">84</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_type&quot;</span> <span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
               <span class="token string">&quot;tx_receiver_account_addr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;sender_action&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token string">&quot;action_authorization&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_ext&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_hash&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_name&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_param&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_size&quot;</span> <span class="token operator">:</span> <span class="token number">66</span><span class="token punctuation">,</span>
               <span class="token string">&quot;action_type&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
               <span class="token string">&quot;tx_sender_account_addr&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span>
            <span class="token punctuation">}</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">100000</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_expire_duration&quot;</span> <span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0xb765e6331af2ba4976541f35c2f9b36fc576b2e437844261d49bd3d6d2f7b89b&quot;</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_len&quot;</span> <span class="token operator">:</span> <span class="token number">309</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_random_nonce&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_structure_version&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;tx_type&quot;</span> <span class="token operator">:</span> <span class="token number">3</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;tx_consensus_state&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string">&quot;confirm_unit_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
            <span class="token string">&quot;recv_tx_exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_exec_status&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;unit_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;d26ebb72b19c348ba30ebccfbc7f1e525f7836064468013b43b43f01f11c36e4&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_disk&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token string">&quot;recv_unit_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token string">&quot;unit_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;44f8364e97ee330dac3fe9283abec1e2071095dd6a08d186862831d63580d00e&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_disk&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_gas&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token string">&quot;send_unit_info&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;height&quot;</span> <span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
            <span class="token string">&quot;tx_fee&quot;</span> <span class="token operator">:</span> <span class="token number">100000000</span><span class="token punctuation">,</span>
            <span class="token string">&quot;unit_hash&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;8a28431ebb29853edddaa32c78c1bd672b5b1a80619afaca19f2a4168aa94d13&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_deposit&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_disk&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
            <span class="token string">&quot;used_gas&quot;</span> <span class="token operator">:</span> <span class="token number">927</span>
         <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;OK&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;46&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="赎回节点保证金"><a href="#赎回节点保证金" class="header-anchor">#</a> 赎回节点保证金</h3> <p>节点注销后，节点保证金将会被锁定72小时，锁定的保证金到期后需要节点主动赎回保证金，系统不会自动退回。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.redeemNodeDeposit</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>property<span class="token punctuation">.</span></span><span class="token class-name">NodeType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">NodeInfoResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">redeemNodeDeposit</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01ace90aad93209164cc3976520d2393043b88e8ba151c69f4c0ff79caabd586b60cf5887b99db8cf3729e0e6e84d443ae3bc859fad75f44a1200d18e164db8258&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 5154942665457376997,
         &quot;last_tx_nonce&quot; : 5,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603783905,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;redeemNodeDeposit&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 87,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x22e076b89df6795434e8dc86460b5e6157642a906d83b1eec8d2fac1d522d9fd&quot;,
         &quot;tx_len&quot; : 312,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 10,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;b4d2d5ed1eb7a29a706eafaba69fded704a1b2155757598f9adec45eaa4d043e&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 11,
            &quot;unit_hash&quot; : &quot;b14b2f771b6b8311fb6aa86288dd8069ad729ceccd355aa702c237de170684dc&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 9,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;73f642b73ec9bc7ac27032261d921b04dabb9fb6ab2561baa7ba2a9a928d1db5&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 936
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;51&quot;
}
</code></pre></div><h2 id="staking"><a href="#staking" class="header-anchor">#</a> staking</h2> <h3 id="锁定top-token兑换选票"><a href="#锁定top-token兑换选票" class="header-anchor">#</a> 锁定TOP_token兑换选票</h3> <p>兑票规则：</p> <p>locked TOP token=votes_amount / [ 1.04^(lock_duration / 30 - 1) ], duration &lt; 570；</p> <p>locked TOP token=vote_amount / 2, lock_duration &gt;= 570。</p> <p>锁定期越长，相同的兑票数量锁定越少的TOP token。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.stakeVote</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">amount</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>兑票数量，每次兑票1,000票起兑。</td></tr> <tr><td style="text-align:center;">lockTime</td> <td>是</td> <td>-</td> <td>String</td> <td>TOP token锁定期，锁定期单位：天。<br>锁定期最少为30天，且必须为30的整数倍。锁定期越长，相同的兑票数量锁定越少的TOP token。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">stakeVote</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x00b32a8919897bf831e5b170433d1ea94b3d0ede691351f69a21f50b4330185aaa26020efe06d3db0c921b9fb511512a4452f80f7c5824489d565b3e908bf39dcf&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 17575575409295805570,
         &quot;last_tx_nonce&quot; : 6,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603784377,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0xa00f0000000000001e00&quot;,
               &quot;action_size&quot; : 76,
               &quot;action_type&quot; : 21,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 1,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x4944c384a7b0cb848ed6790a4692c298544f3eebf71622d312892cbdd18a186f&quot;,
         &quot;tx_len&quot; : 301,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 27
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 12,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;b7e8bd018a26c5f71e39c601703c02e66944e9493ff789735fdb7a7e75e8a4c3&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 301
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;55&quot;
}
</code></pre></div><h3 id="解锁兑换选票的top-token"><a href="#解锁兑换选票的top-token" class="header-anchor">#</a> 解锁兑换选票的TOP_token</h3> <p>锁定期内的TOP token不能解锁，只能解锁到期的TOP token。</p> <p>已经被使用的选票对应锁定的TOP token不能被解锁。</p> <p>发起解锁后，解锁的金额会立刻到账。</p> <p><strong>请求方法</strong></p> <p>topj.unStakeVote</p> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">amount</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>选票数量，解锁相应的TOP token。</td></tr> <tr><td style="text-align:center;">note</td> <td>是</td> <td>-</td> <td>String</td> <td>备注。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span>JSON<span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.193:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">unStakeVote</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1998</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x00dbb57645b28dc9261bc89c3b403f219c68b00da07d673d5ccb1930f042b8b75e62950579327682a79184e8cb502a5d9639a6d53e5293f52a47842ef965fdd98e&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 7288822057977092395,
         &quot;last_tx_nonce&quot; : 7,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603784708,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0xce07000000000000&quot;,
               &quot;action_size&quot; : 74,
               &quot;action_type&quot; : 22,
               &quot;tx_receiver_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 1,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x6245bed2227b7ff56d5bf6ae239685993f81b65990fe55f2b686e0d189ba50b1&quot;,
         &quot;tx_len&quot; : 299,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 28
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 13,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;c192c146d659f023a79eade70b513ec05def9e75a47f3309d7885f2f746fefd2&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 299
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;59&quot;
}
</code></pre></div><h3 id="节点投票"><a href="#节点投票" class="header-anchor">#</a> 节点投票</h3> <p>投票之前请确保您的节点账户中有足够的未使用的选票，可使用<code>topj.getAccount</code>查询。如您的账户中没有足够的选票，可通过<code>topj.stakeVote</code>兑换选票。</p> <p>节点账户可以给在线节点投票，获取收益：</p> <p>TOP Network链上节点账户可以给在线节点投票，获取收益：</p> <ul><li>您可以给任意一个包含&quot;auditor&quot;角色的节点（即advance节点）投票。</li> <li>投到一个节点上的起投票数1,000票，后续累加投票无限制。</li> <li>单个账户目前最多允许给1000个节点投票。</li> <li>给节点投票后，节点获取的奖励会有一部分分给投票者。</li></ul> <p><strong>请求方法</strong></p> <blockquote><p>topj.voteNode</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>投票者账户对象。</td></tr> <tr><td style="text-align:center;">voteInfo</td> <td>是</td> <td>-</td> <td>Map&lt;String, BigInteger&gt;</td> <td>key：节点地址；value：票数。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">&gt;</span></span> voteInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> nodeAddress <span class="token operator">=</span> <span class="token string">&quot;T-0-LbuKhDGrFGBftHcanNLBYuujdmJLbUHvc7&quot;</span><span class="token punctuation">;</span>
        voteInfo<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>nodeAddress<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">voteNode</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> voteInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x00423255bcc2eebb0812a7fe1b329a1a5e34f4638c04f74867d77fd8a3db5ebffc6b9aff9a9a0644facc4330919b6741ff48e4fcc1088161238300ad8ecf6355d7&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 13426001444774114246,
         &quot;last_tx_nonce&quot; : 9,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603785283,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;voteNode&quot;,
               &quot;action_param&quot; : &quot;0x0100000026000000542d302d4c62754b6844477246474266744863616e4e4c425975756a646d4a4c625548766337f401000000000000&quot;,
               &quot;action_size&quot; : 128,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-2-MVfDLsBKVcy1wMp4CoEHWxUeBEAVBL9ZEa@228&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 1,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xa6f7fe89494e09e559a08b2b3a5b0add4870fe64a1ee27ef0f5769a6e3875a19&quot;,
         &quot;tx_len&quot; : 353,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 20
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 17,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;2dff0df66b5183abd6676c97e515119a0222ff5aa2bd800110b6706a1b33d443&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 2,
            &quot;unit_hash&quot; : &quot;f31af4661755eaf356828a9af2a6ab1a4c1efc12719752b291eb84b59ed65112&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 16,
            &quot;tx_fee&quot; : 0,
            &quot;unit_hash&quot; : &quot;d91e29ea0323dd3f214740c225f31a209ea69562b135891675fc059521c88c33&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 1059
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;76&quot;
}
</code></pre></div><h3 id="取消投票"><a href="#取消投票" class="header-anchor">#</a> 取消投票</h3> <p>投票人可以随时将已经投到节点上的选票取消并收回。</p> <p>每次取消投票的票数无限制，但时不能高于给节点投票的总数，否则取消投票将失败。</p> <p>给节点投票后，即使注销节点，选票也不会主动退还至您的账户， 取消投票需要您主动发起取消投票操作。</p> <p>您可以批量取消节点投票。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.unVoteNode</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>投票者账户对象。</td></tr> <tr><td style="text-align:center;">voteInfo</td> <td>是</td> <td>-</td> <td>Map&lt;String, BigInteger&gt;</td> <td>key：节点地址；value：票数。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">&gt;</span></span> voteInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> nodeAddress <span class="token operator">=</span> <span class="token string">&quot;T-0-LbuKhDGrFGBftHcanNLBYuujdmJLbUHvc7&quot;</span><span class="token punctuation">;</span>
        voteInfo<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>nodeAddress<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">unVoteNode</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> voteInfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01d30d6a07bdf731d9f2dc474ad0859b5943fc5716245e49d34e42cc89fc16110824166ab6b0fee7f97144b71a29bffc12ae947a180882fb2516d3e461f5fc474a&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 13503167813048190902,
         &quot;last_tx_nonce&quot; : 10,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603785648,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;unvoteNode&quot;,
               &quot;action_param&quot; : &quot;0x0100000026000000542d302d4c62754b6844477246474266744863616e4e4c425975756a646d4a4c625548766337f401000000000000&quot;,
               &quot;action_size&quot; : 130,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-2-MVfDLsBKVcy1wMp4CoEHWxUeBEAVBL9ZEa@228&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 1,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x6de1eccd314530f0b3a50154c18d63e441943c419a8395d6012e518bcdea77a9&quot;,
         &quot;tx_len&quot; : 355,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 21
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 19,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;edd8f2edc551fc1608f3bb0a6f39a594061b7fc04cac635fdbb010a834711b7f&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 5,
            &quot;unit_hash&quot; : &quot;12d058cdd0351048812672b44bb1d0b53e1353c48904d13381026928c0628a49&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 18,
            &quot;tx_fee&quot; : 0,
            &quot;unit_hash&quot; : &quot;71136c6c1c3db2a54c36996a5a16b110759f0a5bef1fd962d9fffb1bced1f28c&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 1065
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;80&quot;
}

</code></pre></div><h3 id="获取投票者分红信息"><a href="#获取投票者分红信息" class="header-anchor">#</a> 获取投票者分红信息</h3> <p>您给节点投票之后，可以获取相应的投票分红，分红比例由被投票的节点设置。</p> <p>投票者分红不是立刻可以查询，在投票之后的6小时可以查询投票者分红。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.queryVoterDividend</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>投票者账户对象。</td></tr> <tr><td style="text-align:center;">nodeAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>投票者地址。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th></th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>accumulated</td> <td></td> <td>Uint64</td> <td>投票者分红总额，单位uTOP。</td></tr> <tr><td>last_claim_time</td> <td></td> <td>Uint64</td> <td>投票者上次领取分红的时钟高度。</td></tr> <tr><td>node_dividend</td> <td></td> <td>List</td> <td>被投票节点的分红信息。</td></tr> <tr><td></td> <td>account_addr</td> <td>String</td> <td>被投票节点账户地址。</td></tr> <tr><td></td> <td>accumulated</td> <td>Uint64</td> <td>被投票节点分给该投票者的分红，单位uTOP。</td></tr> <tr><td></td> <td>last_claim_time</td> <td>Uint64</td> <td>被投票节点分红上次被领取的时钟高度。</td></tr> <tr><td></td> <td>unclaimed</td> <td>Uint64</td> <td>被投票节点分给该投票者未领取的分红，单位uTOP。</td></tr> <tr><td>unclaimed</td> <td></td> <td>Uint64</td> <td>投票者未领取的分红总额，单位uTOP。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>reward<span class="token punctuation">.</span></span><span class="token class-name">VoterDividendResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VoterDividendResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">queryVoterDividend</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> account<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;accumulated&quot;</span><span class="token operator">:</span><span class="token number">2791642992</span><span class="token punctuation">,</span>
        <span class="token string">&quot;last_claim_time&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">&quot;node_rewards&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;account&quot;</span><span class="token operator">:</span><span class="token string">&quot;T-0-LRaFyaGZ1isfcKnhLxPLoePFUmY2iyFGv6&quot;</span><span class="token punctuation">,</span>
                <span class="token string">&quot;accumulated&quot;</span><span class="token operator">:</span><span class="token number">2791642992</span><span class="token punctuation">,</span>
                <span class="token string">&quot;last_claim_time&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
                <span class="token string">&quot;unclaimed&quot;</span><span class="token operator">:</span><span class="token number">2791642992</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&quot;unclaimed&quot;</span><span class="token operator">:</span><span class="token number">2791642992</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errmsg&quot;</span><span class="token operator">:</span><span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;errno&quot;</span><span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sequence_id&quot;</span><span class="token operator">:</span><span class="token string">&quot;1588769031342&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="领取投票者分红"><a href="#领取投票者分红" class="header-anchor">#</a> 领取投票者分红</h3> <p>系统每24小时结算一次投票者分红，将投票人分红自动发放到分红池。</p> <p>投票人24小时内可以申请提现一次，发起提现申请后立即到账，如提现金额低于10*10^6 uTOP，提现将失败。发放频率由链上治理配置。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.claimVoterDividend</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>投票者账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">claimVoterDividend</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <ul><li>成功返回</li></ul> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x015e5aea769d3731c859ecccce438a9f32a38500c50601682ad1b0ce9d7adec60a216c460f52742e4000cd802cae7875058f77b2a71119012c00c36fadd5e11466&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 8346055492206021528,
         &quot;last_tx_nonce&quot; : 11,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603788080,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;claimVoterDividend&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 84,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-2-MT3itmNbWs4XYn8R1NUcoucmppJwN7qE69@228&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x015ccae65496623557522ea5553db507f5c81ee854046d207f5cfd38bd04ab1d&quot;,
         &quot;tx_len&quot; : 309,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 21,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;52b68c8db349e20199be2afbe9e78938f1f31ea75e73695fac3e0dd8bf28f1d8&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 3,
            &quot;unit_hash&quot; : &quot;20fac0960687f4d70ed4c124daa785891d3935377daae758d58240e94a9398ff&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 20,
            &quot;tx_fee&quot; : 0,
            &quot;unit_hash&quot; : &quot;2e859716a101520de03ffd09181c64d8482f380fe6da959105d99ab1982d72db&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 927
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;86&quot;
}
</code></pre></div><h3 id="获取节点奖励信息"><a href="#获取节点奖励信息" class="header-anchor">#</a> 获取节点奖励信息</h3> <p>节点奖励包括节点工作奖励及选票奖励。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.queryNodeReward</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>否</td> <td>空字符串</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">nodeAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>节点账户地址。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>accumulated</td> <td>Uint64</td> <td>节点奖励总额，单位uTOP。</td></tr> <tr><td>issue_time</td> <td>Uint64</td> <td>奖励发放时的时钟高度。</td></tr> <tr><td>last_claim_time</td> <td>Uint64</td> <td>上次领取奖励的时钟高度。</td></tr> <tr><td>unclaimed</td> <td>Uint64</td> <td>未领取的奖励，单位uTOP。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>reward<span class="token punctuation">.</span></span><span class="token class-name">NodeRewardResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NodeRewardResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">queryNodeReward</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> account<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;accumulated&quot;</span> <span class="token operator">:</span> <span class="token number">5918521830</span><span class="token punctuation">,</span>
        <span class="token string">&quot;issue_time&quot;</span> <span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
        <span class="token string">&quot;last_claim_time&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token string">&quot;unclaimed&quot;</span> <span class="token operator">:</span> <span class="token number">5918521830</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;49&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="获取所有节点奖励信息"><a href="#获取所有节点奖励信息" class="header-anchor">#</a> 获取所有节点奖励信息</h3> <p>所有节点奖励包括节点工作奖励及选票奖励。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.queryAllNodeReward</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>否</td> <td>空字符串</td> <td>Account</td> <td>账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>accumulated</td> <td>Uint64</td> <td>节点奖励总额，单位uTOP。</td></tr> <tr><td>issue_time</td> <td>Uint64</td> <td>奖励发放时的时钟高度。</td></tr> <tr><td>last_claim_time</td> <td>Uint64</td> <td>上次领取奖励的时钟高度。</td></tr> <tr><td>unclaimed</td> <td>Uint64</td> <td>未领取的奖励，单位uTOP。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>reward<span class="token punctuation">.</span></span><span class="token class-name">NodeRewardResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ff867b2ceb48f6bfc8a93d6c6aac05a29baad5da18ab5fb2bb9758379475fad8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">NodeRewardResponse</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">queryAllNodeReward</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
   <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;T-0-LSiFkNdXxRh9KyrYDsDEX2QJrnCCUScMqB&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string">&quot;accumulated&quot;</span> <span class="token operator">:</span> <span class="token number">5918521830</span><span class="token punctuation">,</span>
         <span class="token string">&quot;issue_time&quot;</span> <span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
         <span class="token string">&quot;last_claim_time&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;unclaimed&quot;</span> <span class="token operator">:</span> <span class="token number">5918521830</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;T-0-La8cTjNyTEmspAyTbXEsMhRPN6U9A7JRvH&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
         <span class="token string">&quot;accumulated&quot;</span> <span class="token operator">:</span> <span class="token number">4687423050</span><span class="token punctuation">,</span>
         <span class="token string">&quot;issue_time&quot;</span> <span class="token operator">:</span> <span class="token number">1200</span><span class="token punctuation">,</span>
         <span class="token string">&quot;last_claim_time&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
         <span class="token string">&quot;unclaimed&quot;</span> <span class="token operator">:</span> <span class="token number">4687423050</span>
      <span class="token punctuation">}</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;49&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="领取节点奖励"><a href="#领取节点奖励" class="header-anchor">#</a> 领取节点奖励</h3> <p>领取节点奖励之前可使用<code>system queryNodeReward</code>查询节点奖励信息。</p> <p>每24小时最多领取一次，每次领取奖励金额需要≥1,000*10^6 uTOP token。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.claimNodeReward</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>节点账户对象。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">claimNodeReward</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01a28b0ed68e2ead15083616945a92e737be520eb73ab4bb8700d9e16b0f5d4d797068762f3fc5ea060064f5e0694b139a57a5cc96a898f60b2bcae2344b4f3775&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 2325913416141072335,
         &quot;last_tx_nonce&quot; : 4,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603797213,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;claimNodeReward&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 81,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-2-MT3itmNbWs4XYn8R1NUcoucmppJwN7qE69@155&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LbuKhDGrFGBftHcanNLBYuujdmJLbUHvc7&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x92a7f8d2456d063ff772a97e4432481d28f9d2e9b3c876cf8e3ccbfa8cdf5c96&quot;,
         &quot;tx_len&quot; : 306,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 11,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;287bbf07214842d62c6239747c7168b941c46dbf6aa6e84d9de2b80668533cba&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 70,
            &quot;unit_hash&quot; : &quot;00f4f97eaa3d080d05d6103540c4022f93789af7315db03505f71848fddb0d90&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 10,
            &quot;tx_fee&quot; : 0,
            &quot;unit_hash&quot; : &quot;34ee08c46b7501a859f45bb057e58d8a1d2a73a26d2ca778dbcaed0892d2f751&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 918
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;26&quot;
}
</code></pre></div><h2 id="提案管理"><a href="#提案管理" class="header-anchor">#</a> 提案管理</h2> <h3 id="提交提案"><a href="#提交提案" class="header-anchor">#</a> 提交提案</h3> <p>链上治理时，首先需要提交链上治理提案。</p> <p>任何用户可以发起提案，只要质押一定的TOP token即可。</p> <p>提醒：</p> <blockquote><p>除了最低交易保证金100,000 uTOP token，调用Root-Beacon系统合约交易，需要扣除100*10^6 uTOP token的交易手续费。</p></blockquote> <blockquote><p>因此提交提案前请确保您的账户里至少有100.1*10^6 uTOP token的余额。</p></blockquote> <h4 id="链上治理参数修改提案"><a href="#链上治理参数修改提案" class="header-anchor">#</a> 链上治理参数修改提案</h4> <p>链上治理参数请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/On-ChainGovernance/On-ChainGovernanceParameters.html">链上治理参数</a>。</p> <h4 id="社区基金管理提案"><a href="#社区基金管理提案" class="header-anchor">#</a> 社区基金管理提案</h4> <p>系统将治理奖励和零工作量节点奖励发放至社区基金账户，社区用户可以通过链上治理将账户中的余额转账至销毁账户，提案经过TCC表决通过后，销毁即生效。</p> <p>说明：</p> <blockquote><ul><li>社区基金账户地址：T-21-38QMHWxXshXyZa1E48JU1LREu3UrT5KGD2U@0。</li> <li>销毁账户地址：T-!-Ebj8hBvoLdvcEEUwNZ423zM3Kh9d4nL1Ug。</li></ul></blockquote> <p><strong>请求方法</strong></p> <blockquote><p>topj.submitProposal</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th>参数名称</th> <th>是否必选</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>proposal_type</td> <td>是</td> <td>-</td> <td>Uint8</td> <td>提案类型：1--链上治理参数修改提案；2--社区基金管理提案。</td></tr> <tr><td>target</td> <td>是</td> <td>-</td> <td>String</td> <td>当提案类型为链上治理参数修改提案时，target为链上治理参数名称，链上治理参数请参见[链上治理参数说明](docs-cn/On-ChainGovernance/On-ChainGovernance parameters.md)；<br>当提案类型为社区基金管理提案时，target为接受转账账户地址，销毁账户地址为：T-!-Ebj8hBvoLdvcEEUwNZ423zM3Kh9d4nL1Ug。</td></tr> <tr><td>value</td> <td>是</td> <td>-</td> <td>String</td> <td>当target为链上治理参数时，value为修改后的值。<br>当target为接受转账账户地址，value为转账金额，单位uTOP。</td></tr> <tr><td>proposal_deposit</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>提案保证金，链上治理参数，当前最低为0。</td></tr> <tr><td>effective_timer_height</td> <td>是</td> <td>-</td> <td>Uint64</td> <td>提案通过后生效时钟高度。如生效始终高度小于提案通过时的始终高度，那么提案在通过后会立刻生效。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">.</span><span class="token class-name">Proposal</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">submitProposal</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span>TWO<span class="token punctuation">,</span> <span class="token string">&quot;T-!-Ebj8hBvoLdvcEEUwNZ423zM3Kh9d4nL1Ug&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;T-!-Ebj8hBvoLdvcEEUwNZ423zM3Kh9d4nL1Ua&quot;</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">100000000l</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">18400</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x00055639267a80ec634048de50017a194407e092a849f3689fb4a907d4787ad3da3a0c99344f19366204a45cb4c0acd456d95a63f5c5671fc6e4efb75cd0591074&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 17353520882089532145,
         &quot;last_tx_nonce&quot; : 5,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1603797973,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;submitProposal&quot;,
               &quot;action_param&quot; : &quot;0x0d0000006d696e5f766f7465735f6e756d010000003101e803000000000000&quot;,
               &quot;action_size&quot; : 115,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38QMHWxXshXyZa1E48JU1LREu3UrT5KGD2U@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;0x0000000000e1f50500000000&quot;,
               &quot;action_size&quot; : 78,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LbuKhDGrFGBftHcanNLBYuujdmJLbUHvc7&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x7d46fcbf2932605d06a83249a73843f2429b7f681fb3a1b39aff6d5378c557e6&quot;,
         &quot;tx_len&quot; : 352,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 14,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;92e0cc560569c3fef734e30e228528d59dbed054b68964dd9fb5e1c358acb82f&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 54,
            &quot;unit_hash&quot; : &quot;80bb6ada286f4ffc1235fef5151a82ff8fad78ee797af6d064d0827d60827d90&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 13,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;c9aadf4688b1bce6337ffd77b1ef06edb148cda682e7b5cac750bb8e4064c5bb&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 1056
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;31&quot;
}
</code></pre></div><h3 id="撤回提案"><a href="#撤回提案" class="header-anchor">#</a> 撤回提案</h3> <p>提案只能由对应的提案者撤回。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.withdrawProposal</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">proposalId</td> <td>是</td> <td>-</td> <td>String</td> <td>提案ID。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">.</span><span class="token class-name">Proposal</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Proposal</span> proposal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proposal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proposal<span class="token punctuation">.</span><span class="token function">setProposalId</span><span class="token punctuation">(</span><span class="token string">&quot;sss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">withdrawProposal</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> proposal<span class="token punctuation">.</span><span class="token function">getProposalId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x01cea8b3328ae1bc2c4ced3a584d2acb895938754859e46a89fbdd954e2488947e12ab0732457ed9ccfc91e2ba23bee2e1b96df3d8c6625143a33c6353d897fe9b&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 1339320303636985063,
         &quot;last_tx_nonce&quot; : 5,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1604047180,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;withdrawProposal&quot;,
               &quot;action_param&quot; : &quot;0x0100000031&quot;,
               &quot;action_size&quot; : 91,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38QMHWxXshXyZa1E48JU1LREu3UrT5KGD2U@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0xbeb7b03488646c051485b5979cba9ab2c30a75d568677c30182d1db932fa4763&quot;,
         &quot;tx_len&quot; : 316,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 9,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;0392946766b6a9908afb1950a71d9e25ede336d3bfb18bd8c5afc23c197acd76&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 2,
            &quot;unit_hash&quot; : &quot;2326f7ff4d666fbc1a21125ccd90d11f36db47ef8f2eb4938a13155418b25b4a&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 8,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;a310bca7c898a0417fc34730a1e22595d3f2c5186f133a4018105e28faaa79a6&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 948
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;27&quot;
}
</code></pre></div><h3 id="获取提案详情"><a href="#获取提案详情" class="header-anchor">#</a> 获取提案详情</h3> <p><strong>请求方法</strong></p> <blockquote><p>topj.queryProposal</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>账户对象。</td></tr> <tr><td style="text-align:center;">proposalId</td> <td>是</td> <td>-</td> <td>String</td> <td>提案ID。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <table><thead><tr><th>参数名称</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>effective_timer_height</td> <td>Uint64</td> <td>提案通过后生效时钟高度。如生效始终高度小于提案通过时的始终高度，那么提案在通过后会立刻生效。</td></tr> <tr><td>expire_time</td> <td>String</td> <td>提案失效时间，提案在259200个时钟高度内没有被TCC通过或者否决，提案将失效。</td></tr> <tr><td>priority</td> <td>Uint8</td> <td>提案优先级：1--Normal；2--Important；3--Critical。</td></tr> <tr><td>proposal_deposit</td> <td>Uint64</td> <td>提案保证金，链上治理参数，当前最低为0。</td></tr> <tr><td>proposal_id</td> <td>String</td> <td>提案ID，系统自动生成，唯一。</td></tr> <tr><td>proposal_type</td> <td>Uint8</td> <td>提案类型：1--修改链上治理参数提案；2--社区基金管理提案。</td></tr> <tr><td>proposer_account_addr</td> <td>String</td> <td>提案发起者账户地址。</td></tr> <tr><td>target</td> <td>String</td> <td>当提案类型为修改链上治理参数提案时，target为链上治理参数名称，链上治理参数请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/On-ChainGovernance/Overview.html">链上治理参数说明</a>；<br>当提案类型为社区基金管理提案时，target为接受转账账户地址，销毁账户地址为：T-b-gkhLhFJXVN3ZPQYZxphja93BEUtwKRdden。</td></tr> <tr><td>value</td> <td>String</td> <td>当target为链上治理参数时，value为修改后的值。<br>当target为接受转账账户地址，value为转账金额，单位uTOP。</td></tr> <tr><td>voting_status</td> <td>Uint16</td> <td>该提案投票表决状态：0--未开始；8--进行中；9--失败；10--成功。</td></tr></tbody></table> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">.</span><span class="token class-name">Proposal</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Proposal</span> proposal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proposal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proposal<span class="token punctuation">.</span><span class="token function">setProposalId</span><span class="token punctuation">(</span><span class="token string">&quot;sss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Proposal</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">queryProposal</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> proposal<span class="token punctuation">.</span><span class="token function">getProposalId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;data&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
       <span class="token string">&quot;effective_timer_height&quot;</span><span class="token operator">:</span> <span class="token number">1010110</span><span class="token punctuation">,</span>
       <span class="token string">&quot;expire_time&quot;</span><span class="token operator">:</span> <span class="token number">1000</span>
       <span class="token string">&quot;priority&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
       <span class="token string">&quot;proposal_deposit&quot;</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span>
       <span class="token string">&quot;proposal_id&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
       <span class="token string">&quot;proposal_type&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
       <span class="token string">&quot;proposal_account_addr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;</span><span class="token punctuation">,</span>
       <span class="token string">&quot;target&quot;</span><span class="token operator">:</span> min_stake_votes_num
       <span class="token string">&quot;value&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
       <span class="token string">&quot;voting_status&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errmsg&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">,</span>
   <span class="token string">&quot;errno&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
   <span class="token string">&quot;sequence_id&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="tcc表决提案"><a href="#tcc表决提案" class="header-anchor">#</a> TCC表决提案</h3> <p>对提案投票前，可先获取提案详细信息了解提案。</p> <p>只有TCC委员对提案有表决权，表决通过的规则：需2/3的委员通过，且反对委员不超过20%。</p> <p>提案表决通过后，且没有被否决，将形成立法命令，发给全网节点。</p> <p>提案被表决通过后，系统将自动删除提案，无法查询提案。</p> <p><strong>请求方法</strong></p> <blockquote><p>topj.tccVote</p></blockquote> <p><strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">account</td> <td>是</td> <td>-</td> <td>Account</td> <td>投票者账户对象。</td></tr> <tr><td style="text-align:center;">proposalId</td> <td>是</td> <td>-</td> <td>String</td> <td>提案ID。</td></tr> <tr><td style="text-align:center;">proposalClientAddress</td> <td>是</td> <td>-</td> <td>String</td> <td>提案客户端地址。</td></tr> <tr><td style="text-align:center;">option</td> <td>是</td> <td>-</td> <td>Boolean</td> <td>表决意见：true--赞成；false--反对。</td></tr></tbody></table> <p><strong>返回参数</strong></p> <p>请参见<a href="#%E4%BA%A4%E6%98%93%E4%BD%93%E5%AF%B9%E8%B1%A1%E8%AF%B4%E6%98%8E">交易体对象说明</a>。</p> <p><strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>fastjson<span class="token punctuation">.</span></span><span class="token class-name">JSONObject</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">.</span><span class="token class-name">Proposal</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Proposal</span> proposal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proposal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        proposal<span class="token punctuation">.</span><span class="token function">setProposalId</span><span class="token punctuation">(</span><span class="token string">&quot;sss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> clientAddress3 <span class="token operator">=</span> <span class="token string">&quot;T-0-LVZYEUK41j53RJUrGdxYTYSWcMFtVVmrD5 &quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">tccVote</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> proposal<span class="token punctuation">.</span><span class="token function">getProposalId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> clientAddress3<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">JSONObject</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{
   &quot;data&quot; : {
      &quot;original_tx_info&quot; : {
         &quot;authorization&quot; : &quot;0x011ba5097a4b5a1f54776ec20bf2ca002fe259c51ff9f72a36882e1985239008e97ac8d49d12f768c1a2abadaf3b5e368a4ffeb6ab64c68f323192155fd1116409&quot;,
         &quot;challenge_proof&quot; : &quot;&quot;,
         &quot;ext&quot; : &quot;&quot;,
         &quot;from_ledger_id&quot; : 0,
         &quot;last_tx_hash&quot; : 11205396108775716568,
         &quot;last_tx_nonce&quot; : 6,
         &quot;note&quot; : &quot;&quot;,
         &quot;send_timestamp&quot; : 1604050651,
         &quot;to_ledger_id&quot; : 0,
         &quot;tx_action&quot; : {
            &quot;receiver_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;tccVote&quot;,
               &quot;action_param&quot; : &quot;0x010000003501&quot;,
               &quot;action_size&quot; : 83,
               &quot;action_type&quot; : 5,
               &quot;tx_receiver_account_addr&quot; : &quot;T-21-38QMHWxXshXyZa1E48JU1LREu3UrT5KGD2U@0&quot;
            },
            &quot;sender_action&quot; : {
               &quot;action_authorization&quot; : &quot;&quot;,
               &quot;action_ext&quot; : &quot;&quot;,
               &quot;action_hash&quot; : 0,
               &quot;action_name&quot; : &quot;&quot;,
               &quot;action_param&quot; : &quot;&quot;,
               &quot;action_size&quot; : 66,
               &quot;action_type&quot; : 0,
               &quot;tx_sender_account_addr&quot; : &quot;T-0-LVqncsABDB49GVzwwV5LGx9gBStf4HD9XW&quot;
            }
         },
         &quot;tx_deposit&quot; : 100000,
         &quot;tx_expire_duration&quot; : 100,
         &quot;tx_hash&quot; : &quot;0x3ba14855d285087e60f257f703c1b9f070afa7d1a81c05a5662b4a2fe9f0320e&quot;,
         &quot;tx_len&quot; : 308,
         &quot;tx_random_nonce&quot; : 0,
         &quot;tx_structure_version&quot; : 0,
         &quot;tx_type&quot; : 3
      },
      &quot;tx_consensus_state&quot; : {
         &quot;confirm_unit_info&quot; : {
            &quot;exec_status&quot; : &quot;success&quot;,
            &quot;height&quot; : 14,
            &quot;recv_tx_exec_status&quot; : &quot;success&quot;,
            &quot;tx_exec_status&quot; : &quot;success&quot;,
            &quot;unit_hash&quot; : &quot;540746c16ac538de15f3d1f1a734ead7576fbd94dd99a5b8e5706efbe3aa49b5&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;recv_unit_info&quot; : {
            &quot;height&quot; : 452,
            &quot;unit_hash&quot; : &quot;5089993bf9ea2c74e5d82fd6ab19fa0dd13a56b7e506abd17aca2645f655f21e&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 0
         },
         &quot;send_unit_info&quot; : {
            &quot;height&quot; : 13,
            &quot;tx_fee&quot; : 100000000,
            &quot;unit_hash&quot; : &quot;113cd7f87440097999b01e54aba194d94d8784bba49f3cd4b40f86a05c10fa78&quot;,
            &quot;used_deposit&quot; : 0,
            &quot;used_disk&quot; : 0,
            &quot;used_gas&quot; : 924
         }
      }
   },
   &quot;errmsg&quot; : &quot;OK&quot;,
   &quot;errno&quot; : 0,
   &quot;sequence_id&quot; : &quot;11&quot;
}
</code></pre></div><h2 id="工具方法"><a href="#工具方法" class="header-anchor">#</a> 工具方法</h2> <h3 id="解析出转账交易体中的amount和note数据"><a href="#解析出转账交易体中的amount和note数据" class="header-anchor">#</a> 解析出转账交易体中的amount和note数据</h3> <p>解析出转账交易体中的amount和note数据，并赋值在“TransferActionParam”对象中。</p> <p><strong>请求方法</strong> <code>TransferActionParam.decode</code> <strong>请求参数</strong></p> <table><thead><tr><th style="text-align:center;">参数名称</th> <th>是否必填</th> <th>默认值</th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td style="text-align:center;">actionParam</td> <td>是</td> <td>-</td> <td>String</td> <td>参数内容。</td></tr></tbody></table> <p><strong>返回参数</strong>
无返回，数据直接对象体中。
<strong>请求样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span></span><span class="token class-name">Model</span><span class="token punctuation">.</span><span class="token class-name">TransferActionParam</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> transferResponseBase <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span><span class="token string">&quot;T-0-1EHzT2ejd12uJx7BkDgkA7B5DS1nM6AXyF&quot;</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;hello top&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">TransferActionParam</span> transferActionParam <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransferActionParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        transferActionParam<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>transferResponseBase<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOriginalTxInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getReceiverAction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getActionParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>返回样例</strong>
无。</p> <h3 id="判断交易是否成功"><a href="#判断交易是否成功" class="header-anchor">#</a> 判断交易是否成功</h3> <p>topj.getTxStatus 判断交易是否成功。
以转账交易为例:</p> <ul><li>返回的对象中，获取XTransaction对象，获取交易hash;</li> <li>然后调用topj.getTxStatus()，返回success则表示交易成功，failure表示失败，pending表示交易仍在执行中，null表示查不到交易。</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>sawyer</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>account<span class="token punctuation">.</span></span><span class="token class-name">Account</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span><span class="token class-name">Topj</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span></span><span class="token class-name">ResponseBase</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>methods<span class="token punctuation">.</span>response<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>procotol<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>topj<span class="token punctuation">.</span>tx<span class="token punctuation">.</span></span><span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token class-name">BigInteger</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> main <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Topj</span> topj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Account</span> account <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpService</span> httpService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpService</span><span class="token punctuation">(</span><span class="token string">&quot;http://192.168.50.26:19081&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj <span class="token operator">=</span> <span class="token class-name">Topj</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>httpService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">setTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PollingTransactionReceiptProcessor</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        account <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">genAccount</span><span class="token punctuation">(</span><span class="token string">&quot;ec8519c723649ab2170807d39a9d01be1a6197266cfe39b4cc66c0433df85321&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">passport</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        topj<span class="token punctuation">.</span><span class="token function">getAccount</span><span class="token punctuation">(</span>account<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResponseBase</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">XTransactionResponse</span><span class="token punctuation">&gt;</span></span> transferResponseBase <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span><span class="token string">&quot;T-0-1EHzT2ejd12uJx7BkDgkA7B5DS1nM6AXyF&quot;</span><span class="token punctuation">,</span> <span class="token class-name">BigInteger</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">140</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;hello top&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> txHash <span class="token operator">=</span> transferResponseBase<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getOriginalTxInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTxHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> isSuccess <span class="token operator">=</span> topj<span class="token punctuation">.</span><span class="token function">getTxStatus</span><span class="token punctuation">(</span>account<span class="token punctuation">,</span> txHash<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;transfer hash &gt;&gt; &quot;</span> <span class="token operator">+</span> txHash <span class="token operator">+</span> <span class="token string">&quot; &gt;&gt; is success &gt; &quot;</span> <span class="token operator">+</span> isSuccess<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="交易返回体数据结构"><a href="#交易返回体数据结构" class="header-anchor">#</a> 交易返回体数据结构</h2> <div class="language- extra-class"><pre class="language-text"><code>{
    &quot;data&quot;:{
        &quot;original_tx_info&quot;:{
            &quot;authorization&quot;:&quot;0x01aefd0a118c48fd7846f3ee05a2728a55141ebf3fe94e6076cd1fd1bef295140f356bb10a12dd6731d8ab50332d57ced26f6379162d0eb8fd87871603d8380056&quot;,
            &quot;challenge_proof&quot;:&quot;&quot;,
            &quot;ext&quot;:&quot;&quot;,
            &quot;from_ledger_id&quot;:0,
            &quot;last_tx_hash&quot;:&quot;11448926042541027033&quot;,
            &quot;last_tx_nonce&quot;:3,
            &quot;note&quot;:&quot;&quot;,
            &quot;receiver_action&quot;:{
                &quot;action_authorization&quot;:&quot;&quot;,
                &quot;action_ext&quot;:&quot;&quot;,
                &quot;action_hash&quot;:0,
                &quot;action_name&quot;:&quot;registerNode&quot;,
                &quot;action_param&quot;:&quot;0x040000006564676508000000746f704e6f6465310a0000007075626c6963206b6579&quot;,
                &quot;action_size&quot;:116,
                &quot;action_type&quot;:5,
                &quot;tx_receiver_account_addr&quot;:&quot;T-21-38DSqqwBWkHKxkVuCq3htW47BGtJRCM2paf@0&quot;
            },
            &quot;send_timestamp&quot;:1600766121,
            &quot;sender_action&quot;:{
                &quot;action_authorization&quot;:&quot;&quot;,
                &quot;action_ext&quot;:&quot;&quot;,
                &quot;action_hash&quot;:0,
                &quot;action_name&quot;:&quot;&quot;,
                &quot;action_param&quot;:&quot;0x000000000010a5d4e800000000000000&quot;,
                &quot;action_size&quot;:82,
                &quot;action_type&quot;:0,
                &quot;tx_sender_account_addr&quot;:&quot;T-0-LRaFyaGZ1isfcKnhLxPLoePFUmY2iyFGv6&quot;
            },
            &quot;to_ledger_id&quot;:0,
            &quot;tx_deposit&quot;:300000,
            &quot;tx_expire_duration&quot;:100,
            &quot;tx_hash&quot;:&quot;0x4ce54b11e728fbd65745873a9e831d39516fd0ea326ef055de76a9efd8d25783&quot;,
            &quot;tx_len&quot;:357,
            &quot;tx_random_nonce&quot;:0,
            &quot;tx_structure_version&quot;:0,
            &quot;tx_type&quot;:3,
            &quot;xx64Hash&quot;:&quot;0xa1b759352d90776c&quot;
        },
        &quot;tx_consensus_state&quot;:{
            &quot;confirm_unit_info&quot;:{
                &quot;exec_status&quot;:&quot;&quot;,
                &quot;height&quot;:0,
                &quot;tx_exec_status&quot;:&quot;&quot;,
                &quot;unit_hash&quot;:&quot;f45195cc04590c98aa12d8676bd5585de291620e1b76377ec46d0f1d8376a302&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:0
            },
            &quot;recv_unit_info&quot;:{
                &quot;height&quot;:3,
                &quot;unit_hash&quot;:&quot;b76a433d5a53392cd811f4d2ae06f357c49fd89cf97efdb955033723aaea1c4f&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:0
            },
            &quot;send_unit_info&quot;:{
                &quot;height&quot;:6,
                &quot;tx_fee&quot;:100000000,
                &quot;unit_hash&quot;:&quot;a39ef9be02b3c301f50aeeddc1c474871f47104dbc4ef063fda9892a51dc99b3&quot;,
                &quot;used_deposit&quot;:0,
                &quot;used_disk&quot;:0,
                &quot;used_gas&quot;:1071
            }
        }
    },
    &quot;errmsg&quot;:&quot;ok&quot;,
    &quot;errno&quot;:0,
    &quot;sequence_id&quot;:&quot;1600766121429&quot;
}
</code></pre></div><h2 id="交易返回体数据结构说明"><a href="#交易返回体数据结构说明" class="header-anchor">#</a> 交易返回体数据结构说明</h2> <p>所有交易体对象一致，如下表所示。</p> <table><thead><tr><th>参数名称</th> <th></th> <th></th> <th></th> <th>类型</th> <th>说明</th></tr></thead> <tbody><tr><td>original_tx_info</td> <td></td> <td></td> <td></td> <td>Object</td> <td>原始交易信息。</td></tr> <tr><td></td> <td>authorization</td> <td></td> <td></td> <td>String</td> <td>交易体签名。</td></tr> <tr><td></td> <td>challenge_proof</td> <td></td> <td></td> <td>String</td> <td>预留字段，默认为空字符串。</td></tr> <tr><td></td> <td>ext</td> <td></td> <td></td> <td>String</td> <td>预留字段，用于扩展，默认为空字符串。</td></tr> <tr><td></td> <td>from_ledger_id</td> <td></td> <td></td> <td>Uint16</td> <td>预留字段，默认为&quot;0&quot;。</td></tr> <tr><td></td> <td>last_tx_hash</td> <td></td> <td></td> <td>Uint64</td> <td>交易发送方上次交易的xx64hash，用于交易的排序和去重。</td></tr> <tr><td></td> <td>last_tx_nonce</td> <td></td> <td></td> <td>Uint64</td> <td>交易发送方上次交易的nonce，用于交易的排序和去重。</td></tr> <tr><td></td> <td>note</td> <td></td> <td></td> <td>String</td> <td>交易备注。</td></tr> <tr><td></td> <td>send_timestamp</td> <td></td> <td></td> <td>Uint64</td> <td>交易发送时间戳GMT。</td></tr> <tr><td></td> <td>to_ledger_id</td> <td></td> <td></td> <td>Uint16</td> <td>预留字段，默认为&quot;0&quot;。</td></tr> <tr><td></td> <td>tx_action</td> <td></td> <td></td> <td>Object</td> <td>交易action，包括&quot;source_action&quot;及&quot;target_action&quot;。</td></tr> <tr><td></td> <td></td> <td>receiver_action</td> <td></td> <td>Object</td> <td>交易接受方执行内容。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_authorization</td> <td>String</td> <td>action签名，json结构，当交易为部署合约交易时，此处会显示合约的公钥信息，公钥用来验证合约账户与交易发送方账户是否匹配。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_ext</td> <td>String</td> <td>预留扩展字段，默认为空字符串。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_hash</td> <td>Uint32</td> <td>整个action的xxhash32。默认为&quot;0&quot;，暂未使用。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_name</td> <td>String</td> <td>调用合约时，合约的函数名。<br>其中，系统合约函数请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/Interface/SmartContractInterface/SystemContractAPI.html">系统智能合约 API</a>。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_param</td> <td>String</td> <td>接收方执行内容。不同action type执行内容的序列化请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/Interface/RPC-API/sendTransaction/action-param-serialization.html">action param序列化</a>。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_size</td> <td>Uint16</td> <td>action对象的大小。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_type</td> <td>Uint16</td> <td>接收方执行类型，不同的交易类型对应不同的action type，具体请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/Interface/RPC-API/sendTransaction/tx-type-and-action-type.html">tx_type与action_type说明</a>。<br>xaction_type_create_contract_account    = 3,    // 创建合约账户  <br>xaction_type_run_contract              = 5,    // 调用智能合约<br>xaction_type_asset_in                = 6,    // 资产转入<br>xaction_type_pledge_token_vote          = 21,   //锁定TOP token兑换选票<br>    xaction_type_redeem_token_vote          = 22,   // 解锁兑换选票的TOP token<br>    xaction_type_pledge_token               = 23,   //锁定TOP token兑换gas<br>    xaction_type_redeem_token               = 24,   //解锁兑换gas的TOP token</td></tr> <tr><td></td> <td></td> <td></td> <td>tx_receiver_account_addr</td> <td>String</td> <td>交易接受方账户地址。</td></tr> <tr><td></td> <td></td> <td>sender_action</td> <td></td> <td>Object</td> <td>交易发送方执行内容。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_authorization</td> <td>String</td> <td>action签名，json结构。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_ext</td> <td>String</td> <td>预留字段，默认为空字符串。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_hash</td> <td>Uint32</td> <td>整个action的xxhash32。默认为&quot;0&quot;，暂未使用。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_name</td> <td>String</td> <td>预留字段，默认为空字符串。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_param</td> <td>String</td> <td>发送方执行内容。不同action type执行内容的序列化请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/Interface/RPC-API/sendTransaction/action-param-serialization.html">action param序列化</a>。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_size</td> <td>Uint16</td> <td>action对象的大小。</td></tr> <tr><td></td> <td></td> <td></td> <td>action_type</td> <td>Uint16</td> <td>发送方执行类型，不同的交易类型对应不同的action type，具体请参见<a href="/myDoc/zh/Interface/SDKs/docs-cn/Interface/RPC-API/sendTransaction/tx-type-and-action-type.html">tx_type与action_type说明</a>。<br>xaction_type_asset_out                  = 0,    // 资产转出。<br>xaction_type_source_null =1,          // 源端不执行操作</td></tr> <tr><td></td> <td></td> <td></td> <td>tx_sender_account_addr</td> <td>String</td> <td>交易发送方账户地址。</td></tr> <tr><td></td> <td>tx_deposit</td> <td></td> <td></td> <td>Uint32</td> <td>交易保证金，单位uTOP。</td></tr> <tr><td></td> <td>tx_expire_duration</td> <td></td> <td></td> <td>Uint16</td> <td>交易到期时长，超过则被丢弃，默认100s。</td></tr> <tr><td></td> <td>tx_hash</td> <td></td> <td></td> <td>String</td> <td>交易hash的十六进制。</td></tr> <tr><td></td> <td>tx_len</td> <td></td> <td></td> <td>Uint16</td> <td>交易大小。交易消耗的gas与交易大小相关。</td></tr> <tr><td></td> <td>tx_random_nonce</td> <td></td> <td></td> <td>Uint32</td> <td>随机数字。默认为&quot;0&quot;，暂未使用。</td></tr> <tr><td></td> <td>tx_structure_version</td> <td></td> <td></td> <td>Uint32</td> <td>交易结构版本号。默认为&quot;0&quot;，暂未使用。</td></tr> <tr><td></td> <td>tx_type</td> <td></td> <td></td> <td>Uint16</td> <td>交易类型，不同的交易类型，action中action_param（执行内容）及action type（执行类型）不同。<br>xtransaction_type_create_contract_account      = 1,    // 创建合约账户 <br>xtransaction_type_run_contract                           = 3,    // 调用智能合约<br>xtransaction_type_transfer                                   = 4,    // 转账<br>xtransaction_type_vote                                             = 20, //投票<br>xtransaction_type_abolish_vote                               = 21,//取消投票<br>xtransaction_type_pledge_token_gas                      = 22,   // 锁定TOP token兑换gas<br>xtransaction_type_redeem_token_gas                    = 23,   // 解锁兑换gas锁定的TOP token<br>xtransaction_type_pledge_token_vote                     = 27,   // 锁定TOP token兑换选票<br>xtransaction_type_redeem_token_vote                    = 28,   // 解锁兑换选票锁定的TOP token</td></tr> <tr><td>tx_consensus_state</td> <td></td> <td></td> <td></td> <td>Object</td> <td>交易共识结果。<br>跨账户交易会进行三次共识，所以会返回三个unit的信息；单账户交易只返回只在交易发送账户下进行一次共识，所以只返回&quot;confirm_unit_info&quot;。</td></tr> <tr><td></td> <td>confirm_unit_info</td> <td></td> <td></td> <td>Object</td> <td>交易第三次共识产生的unit block。</td></tr> <tr><td></td> <td></td> <td>exec_status</td> <td></td> <td>String</td> <td>交易最终共识结果：success--成功；failure--失败。</td></tr> <tr><td></td> <td></td> <td>height</td> <td></td> <td>Uint64</td> <td>交易第三次共识产生的unit block高度。</td></tr> <tr><td></td> <td></td> <td>recv_tx_exec_status</td> <td></td> <td>String</td> <td>交易接收方共识结果：success--成功；failure--失败。<br>交易接收方共识失败或拒绝执行，通常在执行合约交易的时候会出现拒绝共识的情况。例如，注册节点，节点保证金低于最低要求，合约将执行失败。</td></tr> <tr><td></td> <td></td> <td>tx_exec_status</td> <td></td> <td>String</td> <td>交易发送方共识状态：success--成功；failure--失败。</td></tr> <tr><td></td> <td></td> <td>unit_hash</td> <td></td> <td>String</td> <td>交易第三次共识产生的unit block对应的hash。</td></tr> <tr><td></td> <td></td> <td>used_deposit</td> <td></td> <td>Uint32</td> <td>交易第三次共识结束后，因发送方账户gas不足以支付交易花费而扣除的发送方账户的交易保证金，单位uTOP。</td></tr> <tr><td></td> <td></td> <td>used_disk</td> <td></td> <td>Uint32</td> <td>当前默认为&quot;0&quot;。</td></tr> <tr><td></td> <td></td> <td>used_gas</td> <td></td> <td>Uint32</td> <td>用户合约交易，交易第三次共识结束后，扣除的发送方账户gas。<br>如果合约用户已支付一部分gas，那么此处扣除整个交易所消耗的gas的剩余部分；如果合约无法支付其应承担的gas，那么此处扣除整个交易消耗的gas。单位Tgas。</td></tr> <tr><td></td> <td>recv_unit_info</td> <td></td> <td></td> <td>Object</td> <td>交易第二次共识产生的unit block。</td></tr> <tr><td></td> <td></td> <td>height</td> <td></td> <td>Uint64</td> <td>交易第二次共识产生的unit block高度。</td></tr> <tr><td></td> <td></td> <td>unit_hash</td> <td></td> <td>String</td> <td>交易第二次共识产生的unit block对应的hash。</td></tr> <tr><td></td> <td></td> <td>used_deposit</td> <td></td> <td>Uint32</td> <td>当前默认为&quot;0&quot;。</td></tr> <tr><td></td> <td></td> <td>used_disk</td> <td></td> <td>Uint32</td> <td>当前默认为&quot;0&quot;。</td></tr> <tr><td></td> <td></td> <td>used_gas</td> <td></td> <td>Uint32</td> <td>用户合约交易，交易第二次共识后，扣除接收方账户应承担的的gas。单位Tgas。</td></tr> <tr><td></td> <td>send_unit_info</td> <td></td> <td></td> <td>Object</td> <td>交易第一次共识产生的unit block。</td></tr> <tr><td></td> <td></td> <td>height</td> <td></td> <td>Uint64</td> <td>交易第一次共识产生的unit block高度。</td></tr> <tr><td></td> <td></td> <td>tx_fee</td> <td></td> <td>Uint64</td> <td>对于调用Beacon系统合约交易（注册节点相关、提案相关、启动节点进程入网），系统自动从交易发送方账户中扣除100*10^6 uTOP token作为交易手续费，并销毁。</td></tr> <tr><td></td> <td></td> <td>unit_hash</td> <td></td> <td>String</td> <td>交易第一次共识产生的unit block对应的hash。</td></tr> <tr><td></td> <td></td> <td>used_deposit</td> <td></td> <td>Uint32</td> <td>当前默认为&quot;0&quot;。</td></tr> <tr><td></td> <td></td> <td>used_disk</td> <td></td> <td>Uint32</td> <td>当前默认为&quot;0&quot;。</td></tr> <tr><td></td> <td></td> <td>used_gas</td> <td></td> <td>Uint32</td> <td>交易第一次共识扣除的gas，单位Tgas。<br>对于非调用用户合约的跨账户交易，交易所消耗的gas全部由发送方承担，在发送方gas足够的情况下，会在第一轮共识就扣完交易所需要的gas；在gas不足的情况下，第一轮共识会扣除发送方账户可用的gas，剩余gas在第三轮共识扣除交易保证金兑换gas支付交易费用。</td></tr></tbody></table> <p><strong>样例</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>
</code></pre></div><h2 id="代码示例"><a href="#代码示例" class="header-anchor">#</a> 代码示例</h2> <p>opt_map 合约：</p> <div class="language-lua extra-class"><pre class="language-lua"><code><span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">create_key</span><span class="token punctuation">(</span><span class="token string">'temp_1'</span><span class="token punctuation">)</span>
    <span class="token function">create_key</span><span class="token punctuation">(</span><span class="token string">'temp_2'</span><span class="token punctuation">)</span>
    <span class="token function">hcreate</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'temp_1'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'temp_2'</span><span class="token punctuation">,</span> <span class="token string">'0'</span><span class="token punctuation">)</span>
    <span class="token function">hset</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">,</span> <span class="token string">'key'</span><span class="token punctuation">,</span> <span class="token string">'val'</span><span class="token punctuation">)</span>
    <span class="token function">hcreate</span><span class="token punctuation">(</span><span class="token string">'empty_map'</span><span class="token punctuation">)</span>
    <span class="token function">create_key</span><span class="token punctuation">(</span><span class="token string">'map_len'</span><span class="token punctuation">)</span>
    <span class="token function">create_key</span><span class="token punctuation">(</span><span class="token string">'map_str'</span><span class="token punctuation">)</span>

    <span class="token function">lcreate</span><span class="token punctuation">(</span><span class="token string">'mlist'</span><span class="token punctuation">)</span>
    <span class="token function">rpush</span><span class="token punctuation">(</span><span class="token string">'mlist'</span><span class="token punctuation">,</span> <span class="token string">'44'</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> <span class="token function">opt_map</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token function">hset</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">lpush</span><span class="token punctuation">(</span><span class="token string">&quot;mlist&quot;</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> <span class="token function">check_map</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
    <span class="token keyword">local</span> map_len <span class="token operator">=</span> <span class="token function">hlen</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'temp_1'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>map_len<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">local</span> map_str <span class="token operator">=</span> <span class="token function">hget</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'temp_2'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>map_str<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">hdel</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> <span class="token function">get_empty_map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'map_len'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span><span class="token function">hlen</span><span class="token punctuation">(</span><span class="token string">'empty_map'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'map_str'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span><span class="token function">hget</span><span class="token punctuation">(</span><span class="token string">'empty_map'</span><span class="token punctuation">,</span> <span class="token string">'unexist'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> <span class="token function">get_empty_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'map_str'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span><span class="token function">hget</span><span class="token punctuation">(</span><span class="token string">'empty_map'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> <span class="token function">del_empty_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">hdel</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'map_len'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span><span class="token function">hlen</span><span class="token punctuation">(</span><span class="token string">'empty_map'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

<span class="token keyword">function</span> <span class="token function">del_not_exist_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">hdel</span><span class="token punctuation">(</span><span class="token string">'hmap'</span><span class="token punctuation">,</span> <span class="token string">'unexist'</span><span class="token punctuation">)</span>
    <span class="token function">set_key</span><span class="token punctuation">(</span><span class="token string">'map_len'</span><span class="token punctuation">,</span> <span class="token function">tostring</span><span class="token punctuation">(</span><span class="token function">hlen</span><span class="token punctuation">(</span><span class="token string">'empty_map'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">end</span>

</code></pre></div></div> <div class="content-footer" data-v-64d2c529><div class="page-nav" data-v-64d2c529><p class="inner"><span class="prev">
      ←
      <a href="/myDoc/zh/Interface/SDKs/01-javascript-sdk/" class="prev">
        JavaScript SDK
      </a></span> <span class="next"><a href="/myDoc/zh/Interface/SDKs/02-c++-sdk/">
        C++ SDK
      </a>
      →
    </span></p></div> <footer class="page-edit" data-v-64d2c529><!----> <!----></footer></div> <div data-v-64d2c529></div> <div data-v-64d2c529></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/myDoc/assets/js/app.51d5769b.js" defer></script><script src="/myDoc/assets/js/4.d7203594.js" defer></script><script src="/myDoc/assets/js/1.65ffe72b.js" defer></script><script src="/myDoc/assets/js/3.83317c84.js" defer></script><script src="/myDoc/assets/js/123.a3cac796.js" defer></script>
  </body>
</html>
